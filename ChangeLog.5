2005-02-05  Bruce Korb  <bkorb@gnu.org>

	= 5.6.6 Released

	* autoopts/agman1.tpl(main): doc the new forms of "main" procedures
	* autoopts/test/Makefile.am(verbose): testing special target
	* autoopts/test/enums.test(do_proc[]): use printf, echo is unreliable

2005-02-03  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl(configuration): replace "rc" in more places
	* autoopts/autoopts.c: ditto
	* autoopts/configfile.c: ditto
	* autoopts/optcode.tpl: ditto
	* autoopts/save.c: ditto
	* autoopts/test/*.test: ditto
	* autoopts/optmain.tpl(for-each): add a new attribute, "handler-type"
	It specifies: plain operands, file names only, file pointers to the
	files named, and content of the files.
	(each-or-stdin-main): deleted.  Not a useful concept.
	* doc/autogen.texi: doc this stuff.

2005-01-23  Bruce Korb  <bkorb@gnu.org>

	* autoopts/test/enums.test: fix ksh-isms
	(echo): guard against builtin echo interpreting '\\'
	* autoopts/test/handler.test: fix ksh-isms
	* agen5/autogen.c(signalSetup): do not override "RT" signals
	* agen5/defDirect.c(doDir_define): use "memmove" for memory shift
	* agen5/tpLoad.c(loadMacros): ditto
	* autoopts/save.c(optionSaveFile): only free mem that was allocated

2005-01-21  Bruce Korb  <bkorb@gnu.org>

	* agen5/expState.c(ag_scm_tpl_file_line): fix warning for 64 bits
	(ag_scm_def_file_line): ditto
	* agen5/schemedef.scm(c-file-line-fmt): new Scheme value
	* agen5/test/heredef.test: tweak test
	* agen5/test/opts.test: ditto
	* autoopts/opt*.tpl: add tpl-file-line functions here and there.
	* autoopts/Makefile.am(include_HEADERS): make them "nobase" as both
	options.h and usage-txt.h are to be installed in an an "autoopts" subdir.
	* */*: change #include directives
	* doc/*: change references from "rc files" and "ini files" to
	"configuration files".
	* pkg/libopts/mklibsrc.sh: cope with the new header subdirectory
	2005-01-17  Bruce Korb  <bkorb@gnu.org>

	* autoopts/opt*.tpl: Remove all the #line stuff.  Bad idea for AutoOpts.
	* autoopts/save.c(findDirName): fix allocation size & mem leak.

2005-01-16  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.h(tDefCtx): change name of file name to be unique
	(tDefEntry): reorder to put int values at end and add definition
	file name and line number.
	* agen5/*: s/tDefCtx.pzFileName/tDefCtx.pzCtxFname/
	* agen5/autogen.c(signalSetup): parameterize the functions to call
	upon signal receipt so that core dumps can happen.
	* agen5/defLoad.c(findPlace): insert def file name and line number
	* agen5/defParse-fsm.c(dp_do_tpl_name): modify definitions root init.
	* agen5/expState.c(ag_scm_def_file_line): new function to take advantage
	of the new fields in the tDefEntry structure.
	* agen5/test/heredef.test: test the definition file/line stuff
	* agen5/defLex.c(assembleHereString): count the newline at the end
	of the here string token, too.

2005-01-15  Bruce Korb  <bkorb@gnu.org>

	* autoopts/Makefile.am(configfile.c): new file
	* autoopts/configfile.c: move config file code here
	* autoopts/autoopts.c(doRcFiles): move and rename to configFileLoad()
	(ISNAMECHAR): remove
	* autoopts/autoopts.h(ISNAMECHAR): add
	* autoopts/load.c(loadOptionLine): add ':' to list of separation chars
	* autoopts/usage-txt.def(AO_Bad): new message
	* autoopts/test/rc.test(cat): fix inconsistent output
	* pkg/libopts/mklibsrc.sh(lo_cv_test_autoopts): handle test correctly

2005-01-08  Bruce Korb  <bkorb@gnu.org>

	* autoopts/options_h.tpl(streqv*): export these functions for programs
	that include the "options.h" header.
	autoopts/streqv.h: obsolete
	* autoopts/streqvcmp.c(streqv*): doc the functions so they are exported
	* autoopts/tokenize.h: obsolete
	* autoopts/tokenize.c(tokenize.h): don't include obsolete header
	(string_tokenize): doc the function so it is exported
	*/*.c: regularize the methods for declaring functions
	* compat/pathfind.c(pathfind): add to libopts if no native version
	* compat/compat.h(pathfind): remove declaration.
	* compat/libgen.h: obsolete
	* compat/strcspn.c(strcspn): part of POSIX.  We require POSIX.
	* config/confmacs.tpl(conditional): new test result type.  It must
	live in unconditional code.
	* config/misc.def(DO_SHELL_CMDS): new conditional
	(HAVE_XML_LIB): ditto

2004-12-31  Bruce Korb  <bkorb@gnu.org>

	= 5.6.5 Released

	* autoopts/rc-sample.tpl: new file for producing sample config files
	* autoopts/mk-autoopts-pc.in: configured script for producing the
	"autoopts.pc" file

2004-12-08  Bruce Korb  <bkorb@gnu.org>

	* agen5/fmemopen.c: comments + superfluous code
	* compat/strsignal.tpl(strsignal): declare it if not available.
	* config/libopts.def(ENABLE_FMEMOPEN): define it if we have either
	"fopencookie" (GNU), or "funopen" (BSD).

2004-11-22  Bruce Korb  <bkorb@gnu.org>

	* agen5/bootstrap.dir(export): avoid ksh-isms
	* agen5/opts.def(define): use the new "unstack" not "equivalence".
	* autoopts/autoopts-config.in(ldopts): emit `-R' link option, too.
	* autoopts/autoopts.c(handleOption): finish new equivalencing stuff
	* autoopts/options.tpl(unstack-arg): new attribute - handle it
	* autoopts/optlib.tpl(unstack-arg): ditto
	* autoopts/save.c(optionSaveFile): avoid unnecessary casts
	* autoopts/stack.c(stackOptArg): avoid unnecessary work
	* autoopts/test/equiv.test: modify for testing new mechanisms
	* config/confmacs.tpl(try-test): avoid using square brackets
	* config/misc.def(ldflags): new test for how to use `-R' link option
	* pkg/libopts/mklibsrc.sh: simplify the quoting

2004-11-14  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(handleOption): object to a reuse of an
	equivalenced-to option IFF it has been defined on the command line.
	This still needs more work:  stacked options may interleave.
	* options.tpl(callback procedure):  user callbacks can have only
	no opt args or string opt args.
	* optlib.tpl(have-proc): allow conditional options to reference
	non-option-specific callback procedures.
	* *EVERYWHERE*: consistently name and use executable and executable
	path environment variables:  AGnam, AGexe, CLnam, CLexe, GDnam, GDexe

2004-10-24  Bruce Korb  <bkorb@gnu.org>

	= 5.6.4 Released

2004-10-24  Bruce Korb  <bkorb@gnu.org>

	* autoopts/test/enums.test: fix a typo
	* autoopts/load.c(optionMakePath): Use realpath(3C) to locate files.

2004-10-18  Bruce Korb  <bkorb@gnu.org>

	= 5.6.3 Released

2004-10-13  Bruce Korb  <bkorb@gnu.org>
	Matt Kraai  <kraai@ftbfs.org>

	* agen5/Makefile.am: Refer to executables with the corrected substitute
	names (that may include the .exe extensions).
	* doc/Makefile.am: likewise
	* getdefs/Makefile.am: likewise
	* xml2ag/Makefile.am: likewise
	* autoopts/optlib.tpl(VALUE_): take advantage of the "!E" macro
	* autoopts/optmain.tpl(each-or-stdin): new main procedure format
	* pkg/gnudoc.tpl: resync with the FSF's gnudocs_template
	* global-replace:  autogen-bugs@.. with autogen-users@...
	* lcl-ag/compat/compat.h(pathfind): fix the reference

2004-10-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.h(zDefaultNil): new global to distinguish defaulted/
	unknown values from an empty string actual value.
	* agen5/funcCase.c(Select_Match_Existence): use new global
	(Select_Match_NonExistence): ditto
	* agen5/funcEval.c(evalExpression): ditto
	* agen5/functions.h(zFn_Select): new selection aliases: !E and +E
	* agen5/test/case.test: test new aliases
	* getdefs/gdemit.c(emitListattr): after a quoted entry in a "listed"
	attribute, scan forward to next entry - no bogus empty entries!

2004-10-09  Bruce Korb  <bkorb@gnu.org>

	* agen5/defParse-fsm.c(dp_do_invalid): return invalid
	* autoopts/autoopts.c: warning patrol
	* autoopts/options_h.tpl: remove unneeded defines (void and const)
	* snprintfv/compat.h: pedantic GCC requires "inline" #define
	* snprintfv/filament.in(filelt): not used
	* xml2ag/fork.tpl: #include-s belong in header, so:
	* xml2ag/xmlopts.def: include them here

2004-10-07  Matt Kraai  <kraai@ftbfs.org>

	* configure.in(AC_TYPE_SIGNAL): deleted, not really used
	* agen5/autogen.h(fileAbort): omit initialization.  Struct too varied.
	* agen5/defLex.c(apzEvents): redundant declaration
	* agen5/fmemopen.c: over-protect flag bit mask
	* agen5/funcEval.c: remove unused stuff
	* getdefs/getdefs.c(processFile): fix format argument order
	
2004-10-02  Bruce Korb  <bkorb@gnu.org>

	* agen5/directive.tpl: put daemon stuff under ifdef DAEMON_ENABLED
	* agen5/autogen.c: ditto
	* agen5/autogen.h: ditto
	* agen5/opts.def: ditto, plus ensure "daemonize" is not enabled
	* agen5/test/Makefile.am: Add disabled daemon test
	* agen5/test/for.test: exercize tpl-file-line function
	* autoopts/autoopts.c: disable presetting of equivalenced options
	disable selecting more than one member of an equivalence class
	* autoopts/optcode.tpl: mark descriptors that have immediate opts
	* autoopts/options_h.tpl: add a flag to indicate presetting state
	* autoopts/optlib.tpl: add OPTNAME_MEMBERSHIP_MASK for set memberships
	Also, redirect equivalenced option values to the base option
	* autoopts/test/Makefile.am: add the enums test
	* autoopts/test/enums.test: more rigorous testing of sets and enums
	* config/libopts.def: fix warnings in config tests
	* doc/autogen.texi: improve docs on environment option presets
	
2004-08-30  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(doEnvPresets): break out into separate file
	(doRegularOpts): like doImmediateOpts, but for regular timing.
	* autoopts/environment.c(doPrognameEnv): implement parsing of $PROGNAME
	* autoopts/optcode.tpl: mark the OPTPROC_HAS_IMMED flag if any user
	options are immediate action or if "homerc" is used.
	* autoopts/options_h.tpl(OPTPROC_HAS_IMMED): new flag
	* autoopts/streqv.h: prefix external names with "option_"
	* autoopts/tokenize.c(string_tokenize): new function
	* autoopts/tokenize.h: and its header
	* compat/compat.h(O_NONBLOCK): not always defined

2004-08-14  Bruce Korb  <bkorb@gnu.org>

	* configure.in: add some daemon-related headers to the header list
	* compat/compat.h: conditionally incorporate daemon related headers
	* agen5/expState.c(tpl-file): doc
	* agen5/funcEval.c(emit): strings seem to show up as pairs.
	* autoopts/autoopts.h: describe how all the bits are used to determine
	if an option is processed early or inline (normal time).
	* autoopts/options_h.tpl: add two more timing bits: TWICE and
	DISABLE_TWICE.
	* autoopts/optcode.tpl: rework the handling of ifdef/ifndef options
	* autoopts/options.tpl: also
	* autoopts/optlib.tpl:  also
	* autoopts/optmain.tpl: also
	* doc/autogen.texi: cleanups
	* agen5/agInit.c: new code for handling daemons.
	* agen5/directive.tpl(inet_family_map): new struct and array
	* compat/compat.h: include netinet/in.h and sys/un.h

2004-08-07  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl(temp-dir): new scheme variable.  If the pseudo
	macro specifies a new shell, the "tempdir" env variable may get lost.
	* config/confmacs.tpl(code-mode): implement "main body" mode
	* config/misc.def(DO_SHELL_CMDS): use automake conditional to bypass
	building some directories, but leave the stuff in the distribution.
	(daemon): new (unused) enablement config option.
	(HAVE_XML_LIB): use automake conditional here, too.
	(fattach): make sure it works
	(connld): make sure it works

2004-07-21  Bruce Korb  <bkorb@gnu.org>

	* mkconfig.sh(shar): clean up usage
	* agen5/autogen.h(ag_printf_arg_u_t): new - for printfv's argv
	* agen5/expPrint.c(safePrintf): use the type for passing args
	(run_printf): ditto + use its fields instead of casting about
	* agen5/expState.c(ag_scm_tpl_file_line): use sprintfv, not sprintf
	* agen5/funcEval.c(ag_scm_emit): new function that emits all its args
	* agen5/test/line.test: new test
	* agen5/test/Makefile.am(line.test): run the new test
	* autoopts/usage-txt.def(utxt): correct usage text
	* autoopts/test/stdopts.test: adjust expected output

2004-05-21  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl(membership bits): expand usage
	* autoopts/enumeration.c(enumError): columnize keyword list in usage
	(optionSetMembers): clear the membership bits at config file load time
	* autoopts/optcode.tpl: simplify some string computations
	* autoopts/opthead.tpl: likewise
	* autoopts/putshell.c(putBourneShell): skip the "none + " prefix
	when constructing the list of bit defines.
	* autoopts/test/equiv.test: adjust for new keyword list format
	* autoopts/test/keyword.test: ditto
	* autoopts/test/stdopts.test: ditto
	* autoopts/test/errors.test: add a double-ifdef test
	* autoopts/test/handler.test: adjust for new template format
	* autoopts/usage-txt.def(SetMemberSettings): new string

2004-05-18  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl(libs): add ${LIBS} to the end of it for -lgen, etc.

	= 5.6.2 Released

2004-05-15  Bruce Korb  <bkorb@gnu.org>

	* agen5/loadPseudo.c(findTokenType): Do not advance scanner past the
	newline upon token recognition.  Newline counts and start-of-line
	state gets confused.

	= 5.6.1 Released/abortive

2004-05-14  Bruce Korb  <bkorb@gnu.org>

	* autoopts/options.tpl(define): define a set of hash tables to use
	* autoopts/optlib.tpl(save-name-morphs): new macro - use hash tables
	* autoopts/optcode.tpl: ditto
	* autoopts/opthead.tpl: ditto
	* autoopts/optmain.tpl: ditto
	* autoopts/test/errors.test(still-another): new - test for multiple ifdf
	* autoopts/test/handler.test: adjust for tweaks

2004-05-09  Bruce Korb  <bkorb@gnu.org>

	* autoopts/aginfo3.tpl(lib-name): handle the library name consistently
	* autoopts/bootstrap.dir(funcs.def): specify the library name
	* doc/autogen.texi(generated main): doc the new preferred method
	* pkg/libopts/mklibsrc.sh(SOURCE DIRECTORY): get file list from
	authoritative source rather than hard-wiring it.  (Thanks to
	Rodolfo Schulz de Lima)
	* doc/Makefile.am(autogen.def): Make sure all the utilities have been
	built before reconstructing the documentation.  It uses them.

2004-04-03  Bruce Korb  <bkorb@gnu.org>

	* configure.in: Some platforms put all float functions in -lm
	* agen5/Makefile.am(COLEXE): define it, too.
	* compat/compat.h: configure.in now produces a uintptr_t, so
	it is not fatal to not have a stdint or inttypes header.
	* doc/Makefile.am: pass CFLAGS through to doc builder template
	* doc/auto_gen.tpl(default-test): clean up compiler usage
	(genshellopt): ditto
	* snprintfv/compat.h: remove a bunch of stuff that is not used and
	interferes with non-snv name space.
	* snprintfv/*.c: respell "TRUE" and "FALSE" with "SNV_" prefix

2004-03-19  Bruce Korb  <bkorb@gnu.org>

	* agen5/fsm-macro.tpl: put strings into one variable and use offsets.
	Minimizes relocation costs at load time.
	* agen5/cgi-fsm.c: regen with new templates
	* agen5/defParse-fsm.c: ditto
	* autoopts/optcode.tpl: implement coherent method for specifying
	how to construct a main() procedure.  Add a standardized main() for
	handling an input list from either the command line or stdin.
	* autoopts/optmain.tpl: more for the above
	* autoopts/test/argument.test: accommodate changes to templates
	* autoopts/test/handler.test: ditto
	* compat/strsignal.tpl: put strings into single global
	* compat/strsignal.c: use new mechanism
	* doc/autogen.texi: doc the new main procedure stuff.

2004-02-27  Bruce Korb  <bkorb@gnu.org>

	* config/misc.def: update to eliminate warnings on some platforms
	* config/missing: update from Automake 1.8
	* xml2ag/xmlopts.def(forkAutogen): export function for xml2ag.c

2004-02-23  Bruce Korb  <bkorb@gnu.org>

	= 5.6 Released

2004-02-19  Bruce Korb  <bkorb@gnu.org>

	* agen5/fmemopen.c: the interface to use depends upon HAVE_FOPENCOOKIE
	and HAVE_FUNOPEN, not __linux or __bsd
	* */Makefile.am(columns): correct the spelling of the directory
	* mkconfig.sh: use mktemp to make the temporary directory
	* noag-boot.sh: regenerate

2004-02-16  Bruce Korb  <bkorb@gnu.org>

	* */Makefile.am: clean up which files need cleaning up and when.
	Make sure the columns and autogen binaries have been built when needed
	* agen5/directive.tpl(zSchemeInit): BSD sed's work differently
	* agen5/fmemopen.c: accommodate BSD's funopen() function
	* agen5/loadPseudo.c(findTokenType): the end marker can *NEVER* start
	with the hash character.
	* agen5/pseudo.def(end_mark): transitions from this state need no code

2004-02-14  Bruce Korb  <bkorb@gnu.org>

	* agen5/fmemopen.c: more cleanup and adapt for BSD's funopen().
	* agen5/autogen.h(ENABLE_FMEMOPEN): define if we have either GNU's
	or BSD's cookie open function
	* agen5/fsm-macro.tpl(build-switch): accommodate a 'noop' function
	* agen5/opts.def(no_fmemopen): depend upon ENABLE_FMEMOPEN instead of
	the GNU function fopencookie(3GNU).
	* config/misc.def: check for funopen, too.
	* */Makefile.am: regularize the environment variables passed to $AGEXE

2004-02-03  Bruce Korb  <bkorb@gnu.org>

	* agen5/agShell.c(serverSetup): do not rely on "getcwd" doing allocation
	* agen5/expState.c(ag_scm_chdir): new wrapper for scm_chdir
	(ag_scm_tpl_file): call "findFile()" if ``#t'' is passed in

2004-02-02  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(DEFINITIONS): distribute defParse.def, too.
	* agen5/autogen.h(FMEM_IOCTL_SAVE_BUF): do not deallocate buf ioctl
	* agen5/expOutput.c(ag_scm_out_push_new): use anonymous temp file
	if `--no-fmemopen' is indicated
	* agen5/fmemopen.c: code cleanup
	* agen5/opts.def(no-fmemopen): new option.

2004-02-01  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am: remove defParse.y, add defParse.def + its FSM
	add fmemopen.c to the file list.
	* agen5/autogen.h: add definition parsing globals,
	rename "tDefStack" to "tDefCtx" -> ripples throughout
	"pzValue" in definition entry now a union -> more ripples
	Incorporate fmemopen definitions.
	* defLoad.c: mostly rewritten
	* defReduce.c: deleted
	* defParse.y: deleted
	* defParse.def: new
	* defParse-fsm.c: new parsing code
	* fsm*.tpl: reworked to make the state table more comprehensible
	* agen5/test/error.test: adjust for FSM error reporting
	* agen5/test/stress.test: new - verify that the new parser works
	* autoopts/getopt.tpl: accommodate vanilla "getopt(3C)", too
	* autoopts/opthead.tpl(xx-value): disallow empty values if long-opts
	are not allowed.
	* autoopts/test/getopt.test: fix up to accommodate non-long-opt progs.
	* agen5/expOutput.c(ag_scm_out_push_new): use fmemopen for temp files
	* agen5/fmemopen.c: new file, depends upon glibc.
	* config/misc.def(bison): bye bye yacc, hello FSM.  check for fopencookie

2004-01-14  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl(AO_gettext): rename from strdup - add gettext
	invocation to the code, removing it from translate_option_strings
	* autoopts/test/handler.test: adjust test results
	* autoopts/test/keyword.test: fix test results.  The man page must
	insert a space to avoid dotted file name disappearance!
	* autoopts/test/nls.test: ensure the right libraries are used for
	headers and linking

2004-01-13  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl(tOptProc): call procs are extern, not static.
	* autoopts/test/getopt.test(AGEN): pass in the proper flags for
	compiling against the AutoOpts library under test.
	* autoopts/test/nls.test(.def): export the fake gettext function

2004-01-04  Bruce Korb  <bkorb@gnu.org>

	= 5.5.7 Released

2004-01-01  Bruce Korb  <bkorb@gnu.org>

	* autoopts/*.c: pulled all the strings that show up in human readable
	text and put them into:
	* autoopts/usage-txt.def: new repository for all human readable
	AutoOpts strings
	* autoopts/usage-txt.tpl: Permute the above into the five tables needed
	to use the strings and translate them into another language.  The
	translation only happens if the _USER_PROGRAM_ is compiled with NLS.
	* autoopts/usage-txt.h: the generated result

2003-12-29  Bruce Korb  <bkorb@gnu.org>

	* autoopts/getopt.tpl: new file.  Implements using getopt_long() as
	the command line parser for AutoOpts-described options.
	* autoopts/Makefile.am(pkgdata_DATA): add getopt.tpl
	* autoopts/sort.c(optionSort): Disable if the environment variable
	"POSIXLY_CORRECT" is set.
	* doc/autogen.texi: update the docs for this stuff.

2003-12-27  Bruce Korb  <bkorb@gnu.org>

	* agen5/expOutput.c(ag_scm_out_name): constness warning
	* compat/compat.h(__USE_GNU): define before including string.h
	* getdefs/gdinit.c(validateOptions): zNoList is not used
	* xml2ag/fork.tpl(forkAutogen): cast OPT_VALUE to int (warning)
	* xml2ag/xml2ag.c(trim): printf format arg warning

2003-12-20  Bruce Korb  <bkorb@gnu.org>

	* everywhere: Clean up constness of various variables

2003-12-14  Bruce Korb  <bkorb@gnu.org>

	* pkg/mkpkg.linux: put %_tmppath in the .rpmmacros also
	* pkg/spec.tpl: use it.

2003-12-07  Bruce Korb  <bkorb@gnu.org>

	* configure.in: tag the entries to make them easier to find in configure
	* agen5/Makefile.am(autogen.1): it depends on getdefs & columns, too.
	* agen5/agUtils.h(fcntl.h): don't include if we don't have it
	* agen5/bootstrap.dir(autogen.1): don't touch it after creation
	* agen5/expPrint.c(run_printf): cast the SCM through uintptr_t
	* autoopts/enumeration.c(optionEnumerationVal): use uintptr_t to
	cast a char* to a scalar.
	* autoopts/guileopt.c(export_options_to_guile): ditto
	* autoopts/putshell.c(putBourneShell): ditto
	* compat/compat.h(stdint.h): we now require this for building.
	* agen5/expString.c(ag_scm_raw_shell_str): expand doc for new stuff
	* autoopts/optmain.tpl(range-option-code): set value type to "long",
	as it is more likely to match a pointer size.  The generated output
	may or may not have access to stdint.h types.
	* getdefs/Makefile.am(opts.h): getdefs and columns must be built first.

2003-12-06  Bruce Korb  <bkorb@gnu.org>

	* agen5/expString.c(ag_scm_raw_shell_str): minimize the switching
	between quoted text and escaped single quotes for raw-shell-str.
	* agen5/test/defs(testsubdir): correct spelling
	* agen5/test/shell.test(raw-shell-str): correct for new results
	* agen5/test/string.test(checkStr): make messages more explicit
	* autoopts/makeshell.c(emitSetup): accommodate environment variable
	"presets" for one-copy-only options.
	* autoopts/test/shell.test: accommodate the new results

2003-12-02  Bruce Korb  <bkorb@gnu.org>

	* autoopts/makeshell.c(emitMatchExpr): consolodate some code here &
	fix a bug where a possibly null pointer was not tested for such.
	* doc/Makefile.am(texi-stamp): $(MAKE) must be passed through, too.
	* doc/auto_gen.tpl: show an example of a shell script option parsing
	program that reorders command arguments.
	* doc/autogen.texi: ditto.

2003-11-22  Bruce Korb  <bkorb@gnu.org>

	* autoopts/Makefile.am(CSRC): add sort.c file
	* autoopts/autoopts.c: move interface types to autoopts.h and change
	references to "STATIC" to "LOCAL"
	(optionMakePath): exported for use by AutoGen, but nobody else
	* autoopts/autoopts.h: incorporate interface types defined in some
	of the modules.  Incorporate generated procedure prototypes.
	* autoopts/bootstrap.dir(LOCAL PROCEDURES): extract their names and
	insert them into autoopts.h

	* autoopts/boolean.c(optionBooleanVal): export this function for ao use
	* autoopts/numeric.c(optionNumericVal): ditto
	* autoopts/pgusage.c(doPagedUsage): ditto
	* autoopts/stack.c(unstackOptArg, stackOptArg): ditto
	* autoopts/makeshell.c(putShellParse): ditto, plus convert STATIC usage
	to LOCAL usage.

	* autoopts/enumeration.c(enumError): LOCAL-ize for static use
	(findName): ditto
	* autoopts/putshell.c(putQuotedStr): ditto
	* autoopts/save.c(findDirName, findFileName, printEntry): ditto

	* autoopts/options_h.tpl(private): separate private use funcs better
	* autoopts/options.tpl(do-ifdefs): clean up usage
	* autoopts/optlib.tpl(ifdef-ed): clean up usage
	* autoopts/sort.c(optionSort): new file/routine to separate options
	from operands.  Not directly callable by users.

	* autoopts/usage.c(arg_types_t): move to autoopts.h
	(optionUsage): export this function for ao use
	LOCAL-ize several functions.

	* autoopts/version.c(printVersion): LOCAL-ize
	(doVersion): export this function for ao use
	* doc/autogen.texi: many cleanups.

	* autoopts/autoopts.c(optionProcess): call optionSort if REORDER set
	* autoopts/putshell.c(putBourneShell): If the args were sorted, then
	reset the argument list.
	* autoopts/sort.c(optionSort): correct the sense of the test.
	* autoopts/test/errors.test(reorder-opts): test functionality.

2003-11-08  Bruce Korb  <bkorb@gnu.org>

	* agen5/agShell.c(serverSetup): do not depend upon the shell understand-
	ing "elif", disallow any variation of *csh shells and ensure that there
	are plenty of characters for writing the AutoGen pid into the init
	script for the shell.

2003-08-23  Bruce Korb  <bkorb@gnu.org>

	==5.5.6 released.

	* pkg/spec.tpl(brp-strip-static-archive): invoke this in post processing
	only if it actually exists.
	(BuildRequires): presumes RPM-installed tools, will not check for
	``make install'' versions.
	* doc/Makefile.am(AGARGS): obsolete
	(SHELL): set it to /bin/sh before genning the docs
	* autoopts/test/usage.test(! ${long_opts}): rework as a proper command
	* agen5/test/defs(VERBOSE): ``!'' is not a proper shell command
	* snprintfv/compat.h(#endif): remove ^M

2003-08-20  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl(arg-range): Include stdio.h and limits.h
	for the generated code that handles argument ranges.
	* autoopts/optmain.tpl(option_usage_fp): must be globally declared
	* autoopts/test/argument.test: Add code to test arg-range

2003-08-09  Bruce Korb  <bkorb@gnu.org>

	* autoopts/test/usage.test: test display with mix of with and without
	flag options
	* autoopts/usage.c(printBareUsage): add an extra space when there are
	both flags and long options, but this does not have the flag value.

2003-08-08  Deneys S. Maartens  <dsm@tlabs.ac.za>

	* autoopts/autoopts.m4:
        min_opts_version is not defined anywhere.
        The test programme also seems a bit borken. :)

	* pkg/mkpkg.linux:
        The rpm programme has been split into smaller utility
        programmes.  On RedHat rpm itself doesn't recognise the build
        flags any more.

	* pkg/spec.tpl:
        When the prefix isn't /usr/local, the manpages get gzip'ed, and
        the build fails because the (unzipped) manpage files don't
        exist.  The %define at the top of the spec file fixes this.
        It's probably not a very elegant solution, but inserting
        `/usr/lib/rpm/bpr-compress' just before the file list gets
        generated in the %install section is probably even worse.

2003-08-07  Bruce Korb  <bkorb@gnu.org>

	* snprintfv/*: update to pre-release of version 1.1

2003-07-06  Bruce Korb  <bkorb@gnu.org>

	* autoopts/enumeration.c: cleanup
	* autoopts/options_h.tpl: cleanup
	* autoopts/optlib.tpl: cleanup
	* autoopts/optmain.tpl: cleanup
	* autoopts/putshell.c: Handle set membership
	* autoopts/streqv.h: Remove ``PROTO(( ... ))'' stuff
	* autoopts/test/equiv.test: Adjust the test result values
	* autoopts/test/stdopts.test: also
	* autoopts/test/keyword.test: Test the set membership
	* autoopts/test/handler.test: also
	* autoopts/usage.c(printExtendedUsage): handle set membership
	* doc/autogen.texi: doc the stuff

2003-07-04  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl: do not double backslashes in man page text
	* autoopts/autoopts.m4: fix syntax for config tests
	* autoopts/enumeration.c(findName): common code for both
	optionEnumerationVal and optionSetMembers (new procedure)
	* opt*.tpl: implement set-membership option type
	* autoopts/restore.c(optionFree): only deallocate optCookie if
	the OPTST_STACKED bit is set.
	* autoopts/save.c(optionSaveFile): handle options with member bits

2003-06-25  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(findOptDesc): a hyphen by itself must be treated
	as an operand.
	* config/bootstrap.local(LANG): unset the thing.  It interferes with
	proper bootstrapping.

2003-06-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/expMake.c(ag_scm_makefile_script): if we are supplying a start
	of line tab character, it looks ugly to also use tab characters from
	the source string, so strip them.

2003-06-01  Bruce Korb  <bkorb@gnu.org>

	==5.5.5 released.

2003-05-30  Bruce Korb  <bkorb@gnu.org>

	* agen5/schemedef.scm(before-error-hook): not part of Guile 1.4
	(ice-9 stack-catch): also not part of 1.4
	* agen5/agUtils.c(doOptions): above code moved here for 1.6
	* agen5/autogen.h(unloadTemplate): always exist now
	(unloadDefs): ditto
	* agen5/defLex.c(assembleString): Allow comments within concatenated
	string values.
	* agen5/defLoad.c(unloadDefs): new dummy procedure
	* agen5/expPrint.c(run_printf): sizeof pointer, not void
	* agen5/loadPseudo.c(doSchemeExpr): accommodate HP/UX initializing
	* agen5/tpLoad.c(unloadTemplate): new dummy procedure
	* autoopts/agman3.tpl(example): accommodate example section
	* autoopts/autoopts.h(aopts_strdup): obsolete
	* autoopts/enumeration.c(optionEnumerationVal): the result number is
	now unsigned.  Do not look for negative value.
	* autoopts/optcode.tpl(number-arg): obsolete
	* autoopts/opthead.tpl(FULL_VERSION): use sprintf for whole string
	* autoopts/options.tpl: add test to ensure prog-title is defined.
	* config/misc.def: define scm_t_port for Guile 1.4, too.
	* doc/Makefile.am(texi-stamp): allow long timeout for linking on HP
	* doc/auto_gen.tpl(default-test): rework how it gets built

2003-05-23  Bruce Korb  <bkorb@gnu.org>

	* agen5/agUtils.c(doOptions): move the ag_init call to here from main
	* agen5/autogen.c(inner_main): move ag_init and zSchemeInit eval to
	the initialization (option processing) function: doOptions.
	* agen5/directive.tpl(zSchemeInit): create #define for file + line
	* agen5/expOutput.c: make sure all output files are re-readable
	(ag_scm_out_line): new - return the current output line number.
	* agen5/snarf.tpl: simplify a bunch of stuff.
	* agen5/test/snarf.test: adjust to tweaked syntax
	* agen5/tpProcess.c(openOutFile): make output file re-readable
	* config/bootstrap: bail on problem.
	* config/confmacs.tpl: allow compile/link/run tests to specify cppflags
	and libs.
	* config/misc.def(eval-string): new - check for scm_primitive_eval_x()

2003-05-18  Bruce Korb  <bkorb@gnu.org>

	* agen5/expGuile.c(ag_scm_string_upcase): avoid using gh_scm2newstr
	(ag_scm_string_capitalize): ditto
	(ag_scm_string_downcase): ditto
	* agen5/funcFor.c(ag_scm_first_for_p): ditto
	(ag_scm_last_for_p): ditto
	(ag_scm_for_index): ditto
	* agen5/test/error.test(tpl6): test file name/line number in Guile msg
	(Doesn't work yet, so it doesn't fail yet either)
	* xml2ag/xml2ag.c(trim): remove trailing newline, too.
	* xml2ag/test/*: new
	* xml2ag/Makefile.am: add test directory
	* agen5/autogen.c(doneCheck): omit messages when leaving during AutoOpts
	* agen5/autogen.h(ag_eval): allow for nested evaluations
	* agen5/tpProcess.c(processTemplate): clear scheme code string ptr after
	setjmp call.  We make that call only at the start of processing.

2003-05-16  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(pkgdata_DATA): do not install schemedef.scm
	* agen5/autogen.c(zSchemeInit): move to schemedef.scm
	(signalExit): remove state name table to global position
	(doneCheck): print stopping state for all but DONE and ABORTING
	* agen5/autogen.h(pzLastScheme): keep track of current scheme operation
	(ag_eval): wrapper for either gh_eval_str or scm_call_1, depending
	* agen5/bootstrap.dir: put the AG_* version stuff into environment
	* agen5/defLex.c(alist_to_autogen_def): no need to load schemedef.scm
	and replace gh_eval_str call with ag_eval.
	* agen5/directive.tpl: convert schemedef.scm to a string initializer
	* agen5/funcDef.c: replace gh_eval_str call with ag_eval
	* agen5/funcEval.c: ditto
	* agen5/loadPseudo.c: ditto
	* agen5/schemedef.scm: add the code for error catching & display
	* agen5/test/error.test: adjust for tweaked output
	* agen5/test/html.test: ditto

2003-05-15  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl: Fix the regularized usage.
	* autoopts/opthead.tpl(UP-prog): obsolete - use pname-up
	(ERRSKIP): option struct name uses 'pname' not 'prog-name'.
	* autoopts/options.tpl(cap-prog-name): obsolete
	(UP-prog): obsolete
	* doc/auto_gen.tpl(stdoptions): show an example
	* doc/autogen.texi(ini files): describe how they can be partitioned
	* pkg/mkgnudoc.sh(img src): fix the location string

2003-05-12  Bruce Korb  <bkorb@gnu.org>

	==5.5.4 released.

2003-05-05  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl(descrip): double backslashes for nroff
	* autoopts/opt*.tpl: regularize some usage.
	* columns/columns.c(handleIndent): fix column number computation

2003-05-03  Bruce Korb  <bkorb@gnu.org>

	* */*.c: remove proc type indentation from obsolete coding style.
	* agen5/autogen.c: include compat/strsignal.c, if we need it.
	* compat/strsignal.c(signo_max): unused - remove
	(strsigno): ditto
	(strtosigno): ditto
	(psignal): ditto
	* configure.in(psignal): don't configure it, either.

2003-05-02  Bruce Korb  <bkorb@gnu.org>

	* agen5/expState.c(ag_scm_get): add an optional second argument - an
	alternative string in case the named value is not found.
	* agen5/expString.c: syntax cleanup
	* autoopts/optcode.tpl: Remove K&R-isms
	* autoopts/optmain.tpl: ditto + fix default optional argument handling
	for keyword options.  also, use the up-c-name macro more
	* autoopts/test/handler.test: test default optional keyword arguments
	* autoopts/options.tpl: use the up-c-name macro more
	* autoopts/optlib.tpl: ditto
	* doc/autogen.texi: correct doc for using arg-optional with keyword opts

2003-04-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/agUtils.c(MEMDEBUG): remove this stuff: we have better tools
	* agen5/agUtils.h: ditto
	* agen5/autogen.c: ditto
	* agen5/defReduce.c: ditto
	* agen5/tpLoad.c: ditto
	* autoopts/autoopts.h: ditto
	* autoopts/autoopts.h: ditto
	* autoopts/streqv.h: ditto
	* autoopts/streqvcmp.c: ditto
	* columns/opts.def: rely on snprintfv so old platforms won't choke
	* config/misc.def(libguile): include the correct headers for the test
	* config/missing: upgrade to current version
	* xml2ag/xml2ag.c(trim): rework to avoid fixed size limitations
	* xml2ag/xmlopts.def(export): Need to define NUL and include ctype.h
	* Makefile.am: distribute the generated and copied xxx.m4 files, too
	* configure.in(INCLIST): remove the snprintfv directories.  We include
	those files with a "snprintfv/" prefix, so it is not needed.

2003-04-26  Bruce Korb  <bkorb@gnu.org>

	* agen5/agCgi.c(loadCgi): redirect stderr to a temp file so that it
	can get rewound and written to stdout in case of an error.
	* agen5/autogen.c(inner_main): enable Guile backtraces when we have
	our own tracing turned on.
	(doneCheck): if we have a redirected stderr, copy the text to the
	stdout and unlink the file.
	* agen5/autogen.h(pzTmpStderr): non-NULL -> redirected stderr
	* agen5/tpProcess.c(doStdoutTemplate): properly handle messages for HTML
	* agen5/test/html.test: test HTML failure mode

2003-04-21  Bruce Korb  <bkorb@gnu.org>

	* */*.[ch]: remove unnecessary includes

2003-04-20  Bruce Korb  <bkorb@gnu.org>

	* */*.[ch]: warning patrol
	* */Makefile.am: speed up:  use monolithic compilations
	(speeds build + speeds execution)

2003-04-18  Bruce Korb  <bkorb@gnu.org>

	* */*.[ch]: retag the ending of source files.

2003-04-16  Bruce Korb  <bkorb@gnu.org>

	* autoopts/enumeration.c(optionEnumerationVal): change intptr_t's to
	uintptr_t's.  Makes no difference, but we config the latter, not former
	* autoopts/save.c(optionSaveFile): ditto

2003-04-13  Bruce Korb  <bkorb@gnu.org>

	* agen5/*: minor cleanups triggered by using a new compiler

2003-04-10  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(autogen_LDADD): add the Guile link stuff here.

2003-04-10  Bruce Korb  <bkorb@gnu.org>

	* agen5/expOutput.c(ag_scm_out_push_new): mkstemp uses the O_CREAT flag.
	This is incompatibile with the fdopen option "a+" on OSR5.
	* agen5/tpProcess.c(openOutFile): incorrect arg list for printf.

2003-04-03  Bruce Korb  <bkorb@gnu.org>

	* agen5/bootstrap.dir: fix comment
	* autoopts/Makefile.am: do not install options_h.tpl
	* autoopts/opt*.tpl: clean up syntax

2003-04-01  Bruce Korb  <bkorb@gnu.org>

	* autoopts/options.tpl: Set up new variables OPT-pfx INDEX-pfx VALUE-pfx
	* autoopts/optlib.tpl: use them and ensure that flags-cant, flags-must
	equivalence and other option naming values get transformed the same
	way "name" gets transformed everywhere.
	* autoopts/optcode.tpl: ditto.
	* autoopts/opthead.tpl: ditto.

2003-03-15  Bruce Korb  <bkorb@gnu.org>

	==5.5.3 released.

	* pkg/mkpkg.linux: Finished.
	* pkg/spec.tpl(BuildRoot): It must not conflict with %topdir.
	(strip_binaries): doesn't work for me
	(gzip_man): this either

2003-03-13  Bruce Korb  <bkorb@gnu.org>

	* agen5/opts.def(version): some egreps require '^'-s to be quoted
	* autoopts/usage.c: initial space in absence of short option needs
	to vary by non-gnu-style vs. standard
	* autoopts/test/usage.test: accommodate

2003-03-12  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/Makefile.am: some shells like to echo after a cd.
	* agen5/test/opts.test: same issue
	* autoopts/test/Makefile.am: and again + set LD_LIBRARY_PATH for Guile
	* config/confmacs.tpl: Pass through the 'withlib' library directory so
	the executables can have LD_LIBRARY_PATH set.
	* getdefs/getdefs.c: Don't set a hard limit on the template name.
	* getdefs/getdefs.h: Remove the template name with the hard coded len.
	* getdefs/opts.def: the --template option is now settable

2003-03-11  Bruce Korb  <bkorb@gnu.org>

	* autoopts/usage.c(printBareUsage): give arg handling type precedence
	in the argument description over the argument format type.  Display
	optional option arguments as "arg" instead of "opt".
	* autoopts/test/equiv.test: accommodate
	* autoopts/test/usage.test: accommodate
	* autoopts/options.tpl: "usage" and "gnu-usage" conflict
	* doc/autogen.texi: doc this new stuff
	(information attributes): split the description attributes

2003-03-10  Bruce Korb  <bkorb@gnu.org>

	* VERSION: clean out cruft
	* autoopts/usage.c: break up monolithic procedure & rework option
	argument handling for GNU format usage.
	* autoopts/test/usage.test: accommodate changes

2003-03-09  Bruce Korb  <bkorb@gnu.org>

	* autoopts/usage.c(optionUsage): Separate more completely the GNU vs.
	std option description format strings.
	* autoopts/test/*.test: formatting tweaks
	* AUTHORS: added Daniel Schregenberger as a new contributor
	* agen5/expPrint.c: use asprintfv instead of trying to compute buf size
	* snprintfv/printf.in(SNV_EMIT): force characters to be unsigned so we
	don't confuse ourselves with error results.

2003-03-08  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl(OPTPROC_GNUUSAGE): set the flag when needed.
	* autoopts/options_h.tpl(OPTPROC_GNUUSAGE): define the flag
	* autoopts/test/Makefile.am(usage.test): new test
	* autoopts/test/usage.test: new test script
	* autoopts/test/equiv.test: clean up short/long option description
	* autoopts/test/errors.test: likewise
	* autoopts/test/keyword.test: likewise
	* autoopts/test/rc.test: likewise
	* autoopts/test/shell.test: likewise
	* autoopts/test/stdopts.test: likewise
	* autoopts/usage.c(optionUsage): likewise + incorporate changes for
	GNU-style usage message + ensure the paged usage text gets flushed

2003-03-07  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl(usage-proc): define Guile symbol in one place and
	use it elsewhere instead of recomputing.
	* autoopts/options.tpl(disabling flags): this is illegal.
	You get arrested for it.

2003-03-02  Bruce Korb  <bkorb@gnu.org>

	* Makefile.am(package): propagate $(pkgtype)
	* pkg/...: more work, RPM's still wont work in alternate directory.
	Followed the docs, tho....

2003-02-28  Bruce Korb  <bkorb@gnu.org>

	* Makefile.am: added rule for making packages in the pkg directory
	* agen5/defReduce.c: allocation counts assumed 4 byte pointers
	* agen5/expGuile.c: gh_scm2newstr takes a size_t* argument, not int*
	* lcl-ag/agen5/funcFor.c: ditto
	* agen5/opts.def: only evaluate the AG_* assignments
	* autoopts/enumeration.c(optionEnumerationVal): the result must be
	a pointer sized int.
	* autoopts/save.c(optionSaveFile): when putting a pointer into a
	scalar, ensure the scalar is as wide as a pointer.
	* pkg/...: make packaging rules for Sun
	* pkg/libopts/README: cleanup
	* snprintfv/compat.h: undefine _STR and _CONC in case of conflict
	* snprintfv/printf.c: allocate more than we need for our purposes.
	This is still an snprintfv bug....

2003-02-16  Bruce Korb  <bkorb@gnu.org>

	==5.5.2 released.

2003-02-15  Bruce Korb  <bkorb@gnu.org>

	* pkg/libopts/README: corrected spelling of check macro & documented
	the automake conditional that is also generated.
	* pkg/libopts/mklibsrc.sh: correctly emit the documented substitution
	variable.  The doc was ahead of the code. :-)  Also, reworked the
	contents of MakeDefs.inc file.  It contains LIBOPTS_REDIST giving the
	list of files that client programs need to redistribute.

2003-02-05  Bruce Korb  <bkorb@gnu.org>

	* autoopts/test/equiv.test: Some seds leave no space at
	the start of the line.  Accommodate.
	* pkg/libopts/mklibsrc.sh: Accommodate systems without gzip

2003-02-04  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/heredef.test: quote the heredoc marker and compare
	the output with a sample output.
	* agen5/test/shell.test: document known failures on BSD-derived systems
	* agen5/tpParse.c: use uintptr_t instead of off_t
	* autoopts/agman1.tpl: replace @emph and @strong, too
	* getdefs/gdinit.c: constrain file name list reading to non-tty input
	* getdefs/getdefs.c: aesthetic cleanup
	* getdefs/opts.def: update copyright date and version and add an
	explanation about reading file names from stdin.
	* doc/auto_gen.tpl(autogen.texi): hunt for the file, do not assume
	the source directory.
	* getdefs/bootstrap.dir: remove debugging "set -x"

2003-02-03  Bruce Korb  <bkorb@gnu.org>

	* config/confmacs.tpl(try-withlib): rewritten and now generates
	substitution variables LIBXXX_CFLAGS and LIBXXX_LIBS
	* config/misc.def(libguile): use new feature
	(libxml2): ditto
	* agen5/Makefile.am: adapt to new names generated by conftest.tpl
	* autoopts/Makefile.am: ditto
	* autoopts/test/Makefile.am: ditto
	* xml2ag/Makefile.am: ditto
	* configure.in(uintptr_t): check for it
	* agen5/autogen.h:  replaced off_t with uintptr_t, since that's
	the way it is used anyway.
	* getdefs/getdefs.h(zAttribRe): allow attribute names to be hypnenated
	* agen5/expString.c: changed some doc comments to not conflict with
	the new getdefs usage
	* agen5/opts.def(include): BSD does not define RTLD_NOW, but does
	suggest using DL_LAZY.  Therefore, now #define the former to latter.

2003-01-12  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(defParse.c): remove explicit rule 'cuz automake
	provides it, but make all objects depend on the header 'cuz you cannot
	specify a single object (defLex.o).
	* agen5/expFormat.c: warning fix
	* agen5/funcFor.c: ditto
	* agen5/loadPseudo.c: ditto
	* autoopts/aginfo.tpl(invocation): add debugging info until cause of
	failure has been determined!!
	* autoopts/enumeration.c(optionEnumerationVal): warning fix
	* autoopts/pgusage.c(doPagedUsage): sanity check
	* autoopts/test/shell.test: sort env output for testing consistency
	* config/confmacs.tpl(try-withlib): add "lib" to the cache variable
	* snprintfv/compat.h(HAVE_WCHAR_T): only use wchar_t if we have it
	(HAVE_WINT_T): ditto
	* snprintfv/*: eliminate accommodations for K&R.  K&R is dead.

2003-01-05  Bruce Korb  <bkorb@gnu.org>

	* autoopts/usage.c(optionUsage): set option_usage_fp to stdout when
	the exit code is EXIT_SUCCESS, otherwise use stderr.  Use throughout.
	* autoopts/enumeration.c: send usage output to "option_usage_fp"
	* autoopts/makeshell.c: ditto
	* autoopts/optmain.tpl: ditto (for generated keyword options)
	* autoopts/pgusage.c: ditto
	* autoopts/test/defs(compile): do not redirect stderr for help text
	* autoopts/test/equiv.test: verify that PAGER redirection works
	* autoopts/test/guile.test: send 'guile starts' string to stdout, too.

2003-01-04  Bruce Korb  <bkorb@gnu.org>

	* autoopts/*, agen5/*: Rework the memory allocation after valgrind
	analysis & get "MEMDEBUG" working again.
