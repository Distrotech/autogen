2002-05-11  Bruce Korb  <bkorb@gnu.org>

	* config/misc.def(guile): add --with-xxx for guile library
	* configure.in(LN_S): use this macro instead of 'ln -s' directly
	* */Makefile.am(INCLUDES): GUILE_INC is obsolete
	* */Makefile.am(LDADD): GUILE_LINK is obsolete
	* */Makefile.am(LDADD): AG_REGEX_LIB is obsolete
	* autoopts/aginfo3.tpl(sec-name): fix formatting
	* autoopts/autoopts.c(optionProcess): change optionSave to optionSaveFile
	* autoopts/opthead.tpl(SAVE_OPTS): this option is now settable.
	* autoopts/save.c(optionSaveFile): renamed from optionSave.  exported now
	* config/confmacs.tpl(withlib): add code to generate withlib testing.
	* config/misc.def(guile): new withlib test, use for guile and regex.
	(posix_regcomp): obsolete
	(regex_lib): obsolete
	(regex_header_path): obsolete
	* agen5/fsm*.tpl(reent): implement reentrant FSM
	
2002-05-04  Bruce Korb  <bkorb@gnu.org>

	* config/missing(makeinfo): fix syntax
	* doc/auto_gen.tpl(libopts.texi): hunt for file (schizophrenia)
	* doc/Makefile.am: config stuff

2002-05-04  Bruce Korb  <bkorb@gnu.org>

	* autoopts/Makefile.am(libopts.texi): build with correct base name
	* autoopts/aginfo3.tpl: finish
	* autoopts/autoopts.c: finish doc-ing the public interfaces
	* autoopts/bootstrap.dir(libopts.texi): correct build command
	* autoopts/options_h.tpl(export_func): Make it clear which are private
	and which are public.
	* autoopts/stack.c(stackOptArg): a disabled option should just clear
	the option argument stack.  It doesn't have an argument to process
	in the "unstack" routine anyway.
	* doc/Makefile.am(MAINTAINERCLEANFILES): autogen.texi is no longer
	cleanable.  It contains persistent information.
	(DISTCLEANFILES): remove generated junk, add a rule for jumping into
	the autoopts dir to build libopts.texi specifically.
	* doc/auto_gen.tpl(libopts.texi): suck it up since it is so hard
	to @include successfully.
	* doc/autogen.texi: break up the option discussion where we need to
	"suck up" the user visible functions.
	(faq): removed from doc, now just part of web site.
	* getdefs/gdinit.c(validateOptions): allow for "/*=*" definitions.
	* getdefs/getdefs.c(buildDefinition): do not skip newline for global defs
	advance from start of entire matched text instead of subexpression.

2002-05-01  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(zSchemeInit): add macro for determining existence and
	type of a Scheme definition.
	* agen5/expState.c(tpl_file_line): change the example format.

2002-04-19  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcCase.c: consolodate the debugging printing

2002-04-13  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/defref.test(testname.def): verify that the template
	name can be pieced together from definition strings.
	* autoopts/Makefile.am: write a rule that evades the insistance of
	creating the option*.3 man pages at "make all" time.  Instead, we
	do it at "make install" time.  (../agen5/autogen must pre-exist)

2002-04-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/expMake.c(ag_scm_makefile_script): trim all leading whitespace
	and only look for a tab in the last of those characters.
	* autoopts/agman3.tpl: new library template
	* autoopts/aginfo3.tpl: ditto
	* autoopts/Makefile.am: incorporate the new templates and rules for them
	* autoopts/*.c: doc the visible entry points
	* autoopts/options.h: obsolete.  Generated from:
	* autoopts/options_h.tpl: extract external function decs from docs.
	* autoopts/bootstrap.dir: actual rules for generating options.h and
	the man pages and the libopts.texi file

2002-04-03  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.h(FPF_NOCHMOD): for marking /dev/null as NO-chmod(2)
	* agen5/defLex.c(yyerror): add commentary on the likely causes of errors
	* agen5/defParse.y(filename): allow strings to be used for
	the template name.
	* agen5/tpProcess.c(closeOutput): only remove write access if the
	FPF_NOCHMOD bit is not set.  Mark /dev/null as such a file.
	* agen5/test/error.test: add likely cause text to end of sample output.
	* doc/autogen.texi(Index Assignments): new, clearer discussion of how
	to use them and what they are for.
	(Naming a Value): obsolete -- folded into above.

2002-04-03  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl: Allow an empty "rcfile" value to mean that
	"homerc" is a file name, rather than a directory name.
	* autoopts/optmain.tpl: clean up the display of the range for usage
	* autoopts/usage.c(optionUsage): ditto
	(printInitList): new routine for helping to do this
	* agen5/opts.def: Add range check for loop-limit option.

2002-04-01  Bruce Korb  <bkorb@gnu.org>

	* autoopts/usage.c(printInitList): new print the list of RC/INI/config
	files.  Do not append an rcfile name if there is none or if the
	homerc value is a directory.
	* autoopts/optcode.tpl(zRcName): distinguish between an unspecified
	rcfile value and a supplied empty string.
	* autoopts/agman1.tpl(doc): fix sed expression (thx to David Bacher)
	* autoopts/autoopts.c(doLoadOpt): make sure that a file specified
	for loading actually exists.  Non existence is only okay for RC files.

2002-03-29  Alexandre Duret-Lutz

	* agen5/autogen.c (signalSetup): Don't set the SIGCHLD handler twice.
	Don't try to catch SIGKILL, either.

2002-03-28  Bruce Korb  <bkorb@gnu.org>

	* all over:  update copyright dates
	* expExtract.c(find-file): is not general use
	* config/misc.def(regex_header): fix it some more.  This time, we
	define REGEX_HEADER directly in the config.h output file.
	(posix_regex): improve the testing and accommodate pedantic regcomp's.
	* doc/autogen.texi: doc the 'AutoGen as a CGI server' as part of the
	'Configuring and Installing' chapter.
	* */Makefile.am: remove -DREGEX_HEADER as it is now in config.h
	* autoopts/autoopts-config.1: new man page for config script
	* autoopts/Makefile.am(autoopts-config.1): distribute the page

2002-03-22  Bruce Korb  <bkorb@gnu.org>

	* agen5/*: sed 's/DEBUG/DEBUG_ENABLED/g' -- well, almost.
	* agen5/opts.def(timeout): respelled ENABLE_SHELL as SHELL_ENABLED
	* agen5/expMake.c(ag_scm_makefile_script): reworked to handle
	implicit command continuations.

2002-03-22  Bruce Korb  <bkorb@gnu.org>

	* config/confmacs.tpl: make it possible to dump all the macros into
	a single output file.  More convenient.
	* config/conftest.tpl: ditto.
	* config/misc.def(fopen_binary): new
	(fopen_text): new
	* config/openmode.m4: obsolete
	* getdefs/getdefs.h(FOPEN_BINARY_FLAG): use config.h
	* compat/compat.h: ditto
	* columns/opts.def: ditto

2002-03-18  Bruce Korb  <bkorb@gnu.org>

	* configure.in: remove all the generated macro invocations and invoke
	them with a collection macro:  INVOKE_AG_MACROS
	* config/conftest.tpl: generate a macro collection instead of individual
	macros
	* agen5/agShell.c(serverSetup): accommodate zsh and bash
	* compat/strsignal.def: extra protection against non-numeric signal nums
	* config/confmacs.tpl: fix the argument name for the AC_ARG(name) macro

2002-03-18  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/error.test: HP/UX delivers `kill -TERM' as a SIGCONT.
	* agen5/compat/strsignal.def: HP/UX defines many signals as "_SIG..."
	and then defines the normal name to this.
	* configure.in: use reworked regex tests
	* config/misc.def: rework regex testing & with options
	* */Makefile.am: Add CFLAGS = -DREGEX_HEADER='@AG_REGEX_HEADER@'
	* agen5/funcCase.c: replace '<regex.h>' with 'REGEX_HEADER'
	* agen5/funcEval.c: ditto
	* autoopts/stack.c: ditto
	* getdefs/getdefs.h: ditto
	* autoopts/autoopts-config.in: add @AG_REGEX_LIB@ to link info
	* config/bootstrap.local: avoid build directories when cloning
	* config/conftest.tpl: libregex.m4 is now obsolete
	* config/libregex.m4: deleted
	* config/misc: added regex_header, regex_header_path and regex_lib

2002-03-11  Bruce Korb  <bkorb@gnu.org>

	* compat/gnu-regex.c: deleted.  It is broken on some platforms.
	Therefore, we'll just abort the configure if we don't have a POSIX regex
	* agen5/funcCase.c: remove references to deleted source
	* agen5/funcEval.c: ditto
	* autoopts/stack.c: ditto
	* compat/Makefile.am: ditto
	* getdefs/getdefs.h: ditto
	* config/confmacs.tpl(c-text): don't overquote.  Unlike other arguments,
	Autoconf automatically quotes c program text.
	* config/misc.def(posix_regcomp): bail if we cannot find one.

2002-03-03  Bruce Korb  <bkorb@gnu.org>

	* agen5/functions.c(mLoad_Bogus): handle the case when the text pointer
	is NULL.
	* agen5/test/error.test: test for this

2002-03-01  Bruce Korb  <bkorb@gnu.org>

	* agen5/expOutput.c(ag_scm_out_pop): you cannot read one unit of zero
	length.  Accommodate for that.
	* compat/strcspn.c(strcspn): End the scan when the source string ends.
	* ChangeLog: moved old entries to ChangeLog.3
	* snprintfv/snprintfv/Makefile.am: clean up the stamp files

2002-02-23  Bruce Korb  <bkorb@gnu.org>

	* Makefile.am: remove a stamp file for DISTCLEAN
	* agen5/agShell.c(sigHandler): declare strsignal() iff HAVE_STRSIGNAL
	is not defined (i.e., we supply our own implementation)
	* autoopts/makeshell.c(emitUsage): emit the preamble from the previous
	version of the file (if it exists).
	(emitSetup): Allow users to supply over-riding defaults
	(setShell): obsolete
	(loadTrailer): renamed
	(openOutput): new name.  Modified to save a pointer to the leader text.
	* autoopts/test/shell.test: modified to cope with default over-rides
	* snprintfv/configure.in(LIBOBJS): ugly hackaround so that autoconf
	won't know we are using the value.

2002-02-04  Bruce Korb  <bkorb@gnu.org>

	* getdefs/getdefs.c: #include strsignal.c when needed
	* getdefs/getdefs.h: don't do it here

2002-02-02  Bruce Korb  <bkorb@gnu.org>

	* config/conf*.tpl: reworked to correspond to web site.
	* configure.in: AG_ENABLE_SHELL renamed to AG_DISABLE_SHELL
	* agen5/agShell.c: ENABLE_SHELL is now SHELL_ENABLED
	* doc/*: added and reworked docs.
	* doc/gnudoc.tpl: template for www.gnu.org/manuals page.
	* doc/mkgnudoc.sh: script to construct above pages

2002-01-30  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(zSchemeInit): add make-header-guard Scheme function
	(signalExit): use a generated state table
	(ag_abend): dont print template name if we have no active template
	* agen5/autogen.h(teProcState): generate the enumeration
	* agen5/tpLoad.c(mapDataFile): fix arg list

2002-01-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/*.[ch]: error message cleanups.

2002-01-25  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(signalExit): new routine to do printing outside
	of signal handler context + emit content-type header as needed
	(doneCheck): emit content-type header as needed
	* config/conftest.tpl: renamed from config.tpl

2002-01-22  Bruce Korb  <bkorb@gnu.org>

	* agen5/*fsm*.tpl: reworked to eliminate some inconsistencies

2002-01-21  Bruce Korb  <bkorb@gnu.org>

	* agen5/*.c: handle error messages better
	* agen5/defDirect.c(processDirective): handle ``#!'' as a comment
	directive.  In this fashion, definition files can be made executable,
	to be interpreted by autogen.

2002-01-12  Bruce Korb  <bkorb@gnu.org>

	* agen5/bootstrap.dir: write a function to compute AG, GD and COL
	(set +e): some testing winds up causing a failing false in error
	* agen5/expFormat.c(ag_scm_error): send error messages to pfTrace
	(Public License): change to _General_ Public License
	* agen5/expPrint.c(run_printf): accommodate empty argument lists
	* agen5/expString.c(shellf): add debugging code
	* agen5/functions.c(mLoad_Bogus): allocate the error string so it
	can be handled in the standard way (instead of just fprintf-ing it).
	* agen5/test/error.test(DEFINITIONS ERROR): new format for message
	* agen5/test/html.test(cgi.tpl): for CGI scripts, this template will
	now always be the default, so supply it.  (It avoids requiring
	command line overrides.)
	* config/bootstrap(configure.in): parameterize it 'cuz the standard
	is now named, "configure.ac".
	* config/bootstrap.local(ADD_CONFIG_FILES): dynamically compute the
	list.  It's too hard to remember to grub around inside configure.ac.
	* agen5/autogen.c(autogen-version): add to Guile environment

2002-01-10  Bruce Korb  <bkorb@gnu.org>

	* getdefs/getdefs.c(main): remove warning that is overly common
	* opts/opts.def: Fix up the man page format definitions

2002-01-05  Bruce Korb  <bkorb@gnu.org>

	* agen5/agCgi.c: reopen stderr as stdout so we can direct messages
	to the client, instead of an invisible log file
	* agen5/*.c: refer to GNU General Public License *with* "General".
	* agen5/*.c: change all references from stderr to pfTrace (an alias).
	* agen5/tpParse.c(whichFunc): return UNKNOWN when a name is unknown.
	* agen5/test/html.test: route all queries through "cgi.tpl" and
	depend on a definiton for "template" to source in the correct template.
	* config/bootstrap: parameterize the name of the input configuration
	file.  "configure.ac" is preferred to "configure.in" now.
	* config/bootstrap.local: ditto
	* doc/auto_gen.tpl: cleanup
	* doc/autogen.texi: ditto

2002-01-03  Bruce Korb  <bkorb@gnu.org>

	* agen5/expMake.c: new add makefile-script function
	* agen5/test/make.test: test its functioning

2001-12-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/html.test(new): test HTML input
	* autogen/Makefile.am(columns): build before getdefs
	* agen5/agCgi.c(zOops): prefix with HTTP internal error code
	* agen5/funcEval.c(error-source-line): is general purpose function
	* configure.in(AC_CONFIG_FILES): discover the config files
	* config/bootstrap.local(AC_CONFIG_FILES): do the discovering
	* doc/auto_gen.tpl(texi-file-source): find it in either build or src
	* getdefs/Makefile.am(opts.c): derivable file in distribution.

2001-12-24  Bruce Korb  <bkorb@gnu.org>

	* Makefile.am(SUBDIRS): list configured based on --disable-shell
	* configure.in(DEBUG): use a configure test function
	* agen5/agCgi.c(stderr): reopen as stdout.
	* agen5/*.c: rework all error messages.  Ensure that they all
	start with text/plain for CGI output
	* agen5/autogen.h(pzOopsPrefix): new global pointer to prefix
	for all error messages.  empty for non-CGI, "text/plain" for CGI.
	(AG_ABEND_STR): new macro for ABENDing with a string argument

2001-12-20  Bruce Korb  <bkorb@gnu.org>

	* agen5/opts.def(config-header): use new attribute
	* autoopts/opthead.tpl(config-header): include before anything else,
	if it is defined.

2001-12-19  Bruce Korb  <bkorb@gnu.org>

	* getdefs/gdemit.c(emitDefinition): reduce aggressive trimming so line
	leaders can be properly stripped.
	* agen5/opts.def(timeout): this option is pointless if the server shell
	has been disabled.  Now active only if ENABLE_SHELL defined.
	* agen5/agShell.c: disable most everything when ENABLE_SHELL not
	defined.  loadData is left intact because it is otherwise useful.

2001-12-18  Bruce Korb  <bkorb@gnu.org>

	* agen5/agCgi.c: Add a 'Autogen Definitions cgi;' to start of CGI defs.
	* agen5/bootstrap.dir(subblock): extract from sources
	* agen5/expString.c(string-tr): new SCM function: similar to string-tr!
	(string-substitute): new SCM function to support CGI scripting
	* agen5/funcCase.c: add subblock argument for getdefs
	* agen5/test/stack.test: add testing for (string-substitute...)

2001-12-09  Bruce Korb  <bkorb@gnu.org>

	* agen5/agCgi.c: new - reads in GET and POST CGI values
	* agen5/cgi.def: new - FSM for processing CGI text
	* agen5/cgi-fsm.c: new - preserved text for generated FSM
	* agen5/defLoad.c(readDefines): call loadCgi when input is stdin
	and the correct environment variables are set.
	* agen5/bootstrap.dir: regenerate cgi-fsm
	* agen5/Makefile.am: distribute the new sources

2001-12-08  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcDef.c(parseMacroArgs): run argument names through
	strtransform();
	* autoopts/Makefile.am(config-opts.def):obsolete
	(@COMPATOBJ@): new config substitution
	(strcspn.lo): configurable object
	(pathfind.lo): configurable object
	* autoopts/*: removed DEF_PROC_* cruft + updated copyright
	* autoopts/optcode.tpl(reorder-opts): new global option attribute
	* autoopts/options.h(OPTST_MUST_SET): new option attribute
	(OPTPROC_REORDER): new option processing attribute
	* autoopts/optlib.tpl(must-set): new option attribute
	(option proc): arg_range is invalid for doc option
	* autoopts/stack.c: we always HAVE_POSIX_REGCOMP now
	* autoopts/stdoptions.def: add copyright
	* autoopts/usage.c: we always HAVE_PATHFIND now.
	Alphabatized formatting strings.
	* autoopts/version.c: update copyright and move to top of file
	* autoopts/aginfo.tpl: allow multiple descriptions
	* autoopts/agman1.tpl: ditto
	* autoopts/autoopts.c: consistent flag usage
	* autoopts/putshell.c(putBourneShell): add code to properly handle
	equivalenced options.
	* autoopts/stack.c(stackOptArg): add code to properly handle
	equivalenced options.  (option arguments are handled according to
	their defining option, not the equivalenced-to option.)

2001-12-01  Bruce Korb  <bkorb@gnu.org>

	* getdefs/*: largely reworked to implement option extraction from
	input files.
	* getdefs/bootstrap.dir: new
	* getdefs/gdinit.c: new

2001-11-20  Bruce Korb  <bkorb@gnu.org>

	* agen5/expExtract.c(ag_scm_find_file): new scheme function
	* agen5/test/extract.test: test (find-file)

2001-11-10  Bruce Korb  <bkorb@gnu.org>

	* agen5/expString.c(shell_stringify): code from ag_scm_shell_str
	(ag_scm_shell_str): use that procedure
	(ag_scm_sub_shell_str): new procedure that uses it, too.
	This procedure emits a back quoted shell string.
	* agen5/test/shell.test: add testing for the new function.
	Expand the testing for all three flavors of shell strings.
	* autoopts/autoopts.c(optionVersion): use a non-empty string
	* autoopts/optcode.tpl(doUsageOpt): accommodate C++
	* autoopts/optmain.tpl(main): ditto
	* autoopts/test/handler.test: adjust for C++ accommodations

2001-11-05  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optmain.tpl: allow output to be compiled by C++

2001-11-03  Bruce Korb  <bkorb@gnu.org>

	* compat/strsignal.def: supply defaults, in case the search fails

2001-11-03  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(optionVersion): replace AO_ANNOUNCE_LEVEL
	with AO values that are maintained.
	* agen5/funcCase.c: 'load_proc:' is obsolete
	Protect against segfaults when macro arguments are missing.
	* agen5/funcDef.c: ditto
	* agen5/funcEval.c: ditto
	* agen5/funcFor.c: ditto
	* agen5/funcIf.c: ditto
	* agen5/functions.c: ditto
	* agen5/functions.h: INCLUDE macro must now test for missing arg
	* agen5/opts.def(copyright): move email address
	* autoopts/agman1.tpl: prefer eaddres from copyright
	* config/missing: "--run" is now often passed in -- accommodate
	Update the download address for autogen.
	* doc/compete.tpl: fix English a bit.

2001-10-31  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(abendSignal): use test & exit inside signal handler,
	not assert().
	* agen5/funcFor.c(mLoad_For): make sure the FOR macro has arguments
	before starting the scan  :-)
	* agen5/test/for.test: test a FOR macro without any arguments
	* agen5/fsm.tpl(c output): replace "|no.*" regex with "(no.*){0,1}"
	* Makefile.am(ChangeLog): old versions no longer distributed.
	They may be obtained via CVS from CVS servers.

2001-10-28  Bruce Korb  <bkorb@gnu.org>

	* ChangeLog: renamed to ChangeLog.3, tagged release rel-5-2-11

2001-10-25  Bruce Korb  <bkorb@gnu.org>

	* snprintfv/tests/snprintfv-test.c(vector_canonicalize):
	Initialize variables correctly when jumping about.

2001-10-20  Bruce Korb  <bkorb@gnu.org>

	* agen5/agShell.c(serverClose): do not close pipes to server when
	shutting down.  Abandonded code threads may hold conflicting locks.
	(serverSetup): set up ``AG_pid'' for server shell.
	* agen5/autogen.c(abendSignal): fflush all the standard outputs.
	* agen5/expExtract.c(loadExtractData): do not deallocate strings that
	were not allocated  :-)

2001-10-15  Bruce Korb  <bkorb@gnu.org>

	* agen5/agUtils.c(doOptions): always define "__autogen__" in the
	environment.

2001-10-12  Bruce Korb  <bkorb@gnu.org>

	* autoopts/aginfo.tpl: minor cleanup
	* autoopts/agman1.tpl: ditto
	* autoopts/options.tpl(documentation): do not require a flag value
	* autoopts/optmain.tpl(rmax): use INT_MIN as single-value marker
	* autoopts/stdoptions.def(quiet/silent): make them work together better
	(VERBOSE_ENUM): allow this to specify levels of verbosity
	* doc/autogen.texi(option features): condense description
	(Option Definitions): cleanup
	* doc/compete.tpl: emphasize similarities and differences
	* doc/compete.def: remove redundand definitions
	* autoopts/test/stdopts.test: test functionality of stdoptions.def,
	especially the keyword attributes for --verbose.
	
2001-10-01  Bruce Korb  <bkorb@gnu.org>

	* everywhere: much doc cleanups
	* autoopts/opt*.tpl(arg_range): crate a handler procedure when this
	attribute is specified.
	* agen5/opts.def(--timeout): take advantage of this
	* autoopts/numeric.c: accommodate the usage procedure callback
	* autoopts/usage.c: call numeric argument callback procedures to get
	any range information they may want to add for extended usage.
	* autoopts/makeshell.c: fix pointer reference
	* agen5/fsm.tpl(columns): use $COLUMNS_EXE, if passed in
	* */*.tpl: specify the shell to use

2001-10-01  Albert Chin  <china@thewrittenword.com>

	* agen5/agUtils.c(doOptions): not all systems with POSIX sysinfo
	support SI_PLATFORM.
	* agen5/bootstrap.dir(COLUMNS_EXE): needs to be exported
	* agen5/fsm-macro.tpl(egrep): on some shells, '^' must be quoted.

2001-09-29  Bruce Korb  <bkorb@gnu.org>

	* autoopts/stack.c(unstack): make it work when we don't have posix
	regcomp(3).
	* autoopts/agman1.tpl: map '$*' to '.br'
	* config/: change name of 'm4.tpl' to 'config.tpl'
	* config/config.tpl: document needed definitions + beautify +
	do not depend on "(prefix ...)" working for now.
	* agen5/expString.c(ag_scm_prefix): fixed off-by-one bug
	* autoopts/aginfo.tpl: cleaned up special option attribute doc'ing
	* agen5/opts.def(show-defs): use this feature
	* agen5/opts.def(show-shell): ditto
	* autoopts/optlib.tpl(skip-ifdef): potential new feature, causing
	usage information to display during documentation generation.
	* config/Makefile.am: install "config.tpl"

2001-09-23  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(main): when aborting due to signal receipt, the
	exit code should be 128 + signal number

2001-09-21  Bruce Korb  <bkorb@gnu.org>

	* autoopts/aginfo.tpl: accept "preserve-case" program attribute
	* autoopts/optlib.tpl: ditto
	* autoopts/agman1.tpl: ditto
	* doc/autogen.texi: improve the documentation for the pre-defined names

2001-09-20  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl(copyright): clean up licensing comment
	* autoopts/autoopts.h(SKIP_OPT): add a macro for testing for _either_
	the DOCUMENT or OMITTED bits being set.  "OMITTED" is now used for
	compiled-out options.
	* autoopts/autoopts.c: use the macro
	* autoopts/guileopt.c: ditto
	* autoopts/makeshell.c: ditto
	* autoopts/putshell.c: ditto
	* autoopts/save.c: ditto
	* autoopts/usage.c: ditto
	* autoopts/options.h: add the OMITTED bit to the flag list
	* autoopts/optlib.tpl: use the flag to indicate compiled out code
	(DefaultArg): fix spacing issue
	* doc/autogen.texi(sysinfo): document the new pre-defined names
	* agen5/agUtils.c(doOptions): add some system information to the
	environment before starting any server processes.
	* config/misc.def(posix_sysinfo): test for a POSIX (non-Linux) sysinfo
	(uname_syscall): test for a POSIX uname call
	* configure.in: use the new tests

2001-09-12  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(signalSetup): ignore SIGWINCH and SIGSTOP, too.

2001-09-10  Bruce Korb  <bkorb@gnu.org>

	* getdefs/getdefs.c: finished implementation of self-indexed defs
	* getdefs/test/index.test: new test for this feature

2001-09-08  Bruce Korb  <bkorb@gnu.org>

	* doc/autogen.texi: General cleanup + add AutoEvents section
	* doc/auto_gen.tpl: add index entry for AutoEvents
	* agen5/funcIf.c(set-writable): add optional argument to clear
	the writable output state.

2001-08-30  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl(proprietary): fix macro marks
	* */*: many doc changes all over.

2001-08-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/tpProcess.c(processTemplate): supply the definitions for non-
	suffixed output, too.

2001-08-23  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.h(ag_scm2zchars): faster and secure technique for
	ensuring that the character string gotten from an SCM is NUL-terminated
	* agen5/*.c: use it in many places where it makes sense
	* agen5/expOutput.c(out-suspend): new function to suspend output
	without actually closing the file.  Use with:
	(out-resume): resume a suspended output file descriptor
	(out-name): do not return temp file names.  If a temp file is current,
	then return the next higher file name in the stack.

2001-08-21  Bruce Korb  <bkorb@gnu.org>

	* getdefs/getdefs.c: make the index database be ordinarily read-only
	(loadStdin): new - when the input file is specified as "-", instead
	read file names from stdin and save the names via SET_OPT(INPUT).
	* getdefs/opts.def(input): allow it to be a settable option
	* agen5/autogen.c(signalSetup): catch SIGCHLD with a null procedure.
	* agen5/autogen.h(FPF_): add bit markers for deallocation handling
	* agen5/funcDef.c(anonymousTemplate): obsolete
	(build_defs): remove anonymous template handling code.  Obsolete.
	agen5/tpProcess.c: use the new deallocation handling flags
	* VERSION: bump the minor version
	
2001-08-18  Bruce Korb  <bkorb@gnu.org>

	* agen5/tpProcess.c(openOutFile): always open /dev/null when the
	suffix is "null".
	* agen5/autogen.c(signalSetup): assign an empty procedure to handle
	SIGCHLD so that child processes do not inherit SIG_IGN and so we also
	do not leave zombie children lying around.
	* agen5/test/error.test: handle redirection of output to /dev/null
	
2001-08-16  Bruce Korb  <bkorb@gnu.org>

	* agen5/tpParse.c(whichFunc): don't do a strcmp when subtraction works
	* agen5/funcDef.c(skipNestedExpression): obsolete
	(spanTemplate): obsolete
	(parseMacroArgs): remove support for nested macros.  Never worked.

2001-08-11  Bruce Korb  <bkorb@gnu.org>

	* snprintfv/ChangeLog: fixed up some mis-allocation issues
	* agen5/agUtils.h(ISPATHCHAR): new macro
	* agen5/expFormat.c(ag_scm_error): Get numbers as unsigned longs.
	Print them as ints, until we have proper support for long in printf.
	* agen5/expGuile.c: ditto
	* agen5/expPrint.c: ditto
	* agen5/funcDef.c: ditto
	* agen5/funcEval.c: ditto
	* agen5/expString.c: sprintf from snprintfv is working again

2001-08-04  Bruce Korb  <bkorb@gnu.org>

	* snprintfv/snprintfv/format.c: broken ptr dereference and
	unsigned format types are treated as signed.

2001-07-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/functions.h: new - no longer generated
	* agen5/functions.tpl: obsolete
	* agen5/bootstrap.dir(functions.h): don't generate any more
	* agen5/Makefile.am(stamp-functions): ditto

2001-07-21  Bruce Korb  <bkorb@gnu.org>

	* agen5/agShell.c(defArgs) rename to "serverArgs" and export.
	Retype to "tCC**", too.
	* agen5/autogen.h(serverArgs): new global
	(MAKE_HANDLER_PROC): the interface is stable now.  Macro not needed.
	(MAKE_LOAD_PROC): ditto
	* agen5/funcCase.c: skip macro
	* agen5/funcDef.c: ditto
	* agen5/funcEval.c: ditto
	* agen5/funcFor.c: ditto
	* agen5/funcIf.c: ditto
	* agen5/functions.c: ditto
	* agen5/loadPseudo.c(doSchemeExpr): Process a scheme expr in the
	pseudo macro
	(findTokenType): a '(' now marks a scheme expression
	* agen5/pseudo.def(scheme): new transition

2001-07-20  Bruce Korb  <bkorb@gnu.org>

	* agen5/agUtils.h: Add ISPATHCHAR

2001-07-14  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcEval.c: fflush output after write
	* agen5/funcFor.c: ditto
	* autoopts/optlib.tpl(USAGE_LINE): rewrote to take advantage of temp
	files and avoid Sun bug where sed cannot see a last line without a \n

2001-07-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/in.test: added to test above.
	* agen5/expString.c(ag_scm_in_p): accommodate the fact that lists
	arrive wrapped inside of a list, so do a recursive search for "in?"
	* agen5/loadPseudo.c(loadPseudoMacro): inverted test fixed

2001-07-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/Makefile.am(TESTS_ENVIRONMENT):  add COLUMNS_EXE
	and make it uniform with the autoopts/test one.
	* autoopts/test/Makefile.am(TESTS_ENVIRONMENT): make consistent
	with the agen5/test one.

2001-07-01  Bruce Korb  <bkorb@gnu.org>

	* agen5/loadPseudo.c(loadPseudoMacro): accommodate a start macro marker
	immediately following the end marker definition.
	* agen5/test/endmac.test: test it

2001-07-02  Gary V. Vaughan  <gary@gnu.org>

	* configure.in (GUILE_INC): Missing quote in sed expression.
	
2001-07-01  Gary V. Vaughan  <gary@gnu.org>

	* configure.in (AC_CONFIG_HEADERS): Replaced with AM_CONFIG_HEADER.
	* snprintfv/configure.in (AC_CONFIG_HEADERS): Ditto.
	* Makefile.am(EXTRA_DIST): No need to have config-h.in provided
	AM_CONFIG_HEADERS is invoked from configure.in.
	* snprintfv/Makefile.am(EXTRA_DIST): Ditto.

2001-07-01  Bruce Korb  <bkorb@gnu.org>

	* Makefile.am(EXTRA_DIST): automake forces you to spec config-h.in now
	* snprintfv/Makefile.am(EXTRA_DIST): ditto
	* configure.in(GUILE_INC):  Disable `-I /usr/include' when Guile
	is installed under /usr
	(INCLIST): actually use this for the makefiles
	* autoopts/Makefile.am: Use INCLIST
	* agen5/Makefile.am: Use INCLIST
	* columns/Makefile.am: Use INCLIST
	* getdefs/Makefile.am: Use INCLIST
	* config/Makefile.am(EXTRA_DIST): acconfig.h is no longer required
	* config/acconfig.h: deleted

2001-07-01  Gary V. Vaughan  <gary@gnu.org>

	* autoopts/Makefile.am:  Make sure we pick up the correct config.h
	by looking in $(top_srcdir) before $(top_srcdir)/snprintfv.
	* agen5/Makefile.am:  Ditto.

	Upgraded to use autoconf-2.50, automake-1.4-p4 and libtool-1.4:
	* configure.in: 2.50 autoupdated and tweaked.
	* config/acconfig.h: No longer required.
	* config/bootstrap: Updated minimum required versions of bootstrap
	tools.
	(initfile): Look in AC_CONFIG_SRDIR for autoconf-2.50
	configure.in.
	(AUTOHEADER): No need for -I flag, acconfig has gone.
	(AUTOCONF): No need for -I flag, aclocal.m4 is in current
	directory.
	* config.guess: Updated from master source at ftp.gnu.org.
	* snprintfv/configure.in: 2.50 autoupdated and tweaked.

2001-06-24  Bruce Korb  <bkorb@gnu.org>

	* autoopts/options.tpl(columns): add an environment variable saying
	which columns program to use.
	* autoopts/optmain.tpl: use it
	* autoopts/optlib.tpl: ditto
	* autoopts/test/Makefile.am: add it to the test environment.
	* VERSION: fix the broken AO_AGE variable.  Bump the package rev 5.2.6

2001-06-23  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl: use (extract ...) to reduce bulk
	* doc/autogen.texi: now contains some original text
	* agen5/autogen.h: add some flags to the fpStack struct
	* agen5/expOutput.c(out-pop): add an optional disposition arg.
	If present and TRUE, then returns the file text contents.
	(out-push-new): make the argument optional and use a temp file
	name if no file name is supplied.
	* agen5/funcDef.c: fix reference to out-pop.
	* agen5/tpProcess.c(processTemplate): add flags word to variable def.
	(outputCLose): check for a temp file flag for unlinking file and
	deallocating the file output state structure.
	* doc/auto_gen.tpl: the output file is now writable.
	* agen5/expState.c(tpl-file-line): allow for an alternate format
	
2001-06-23  Albert Chin  <china@thewrittenword.com>

	* autoopts/test/guile.test: avoid ``diff -q'' GNU-ism
	* autoopts/test/Makefile.am: add more paths for exe's & includes
	* agen5/opts.def: Tru64 UNIX doesn't define RTLD_GLOBAL ??!!
	* autoopts/optcode.tpl: move the conditional EXIT_SUCCESS define
	to *after* where local include directives are inserted.
	* autoopts/test/defs: Test $VERBOSE, not ! $VERBOSE;
	pass $CFLAGS through as some platforms might need it
	* compat/compat.h(libgen): we ought to have the lib before including
	the header (even if we have the header)
	* snprintfv/configure.in: fix error message
	* getdefs/getdefs.h(snprintfv.h): if no native snprintf
	* columns/columns.c(snprintfv.h): if no native snprintf
	* columns/Makefile.am(INCLUDES): add snprintfv to search list
	* configure.in(snprintf): look for this function

2001-06-21  Albert Chin  <china@thewrittenword.com>

	* agen5/defFind.c: Separate the non-static initialization from
	the local variable definition.  It's not ANSI.

2001-06-16  Alexandre Duret-Lutz  <duret_g@epita.fr>

        * agen5/Makefile.am (INCLUDES): Move guile's includes after
        autogen's local includes so that local files are found
        before those that may have been installed in the same 
        directory as guile.

2001-06-05  Bruce Korb  <bkorb@gnu.org>

	* agen5/fsm.tpl: reworked
	* agen5/fsm-macor.tpl: new, macro library
	* agen5/fsm-trans.tpl: ditto
	* agen5/loadPseudo.c: changed names of generated constants
	* agen5/pseudo.def: adjust to new templates
	* autoopts/options.h: fix version number
	
2001-05-27  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(doEnvPresets): correct size computation
	* agen5/tpLoad.c(findFile): fix counters

2001-03-10  Alexandre Duret-Lutz  <duret_g@epita.fr>

        * autoopts/optlib.tpl: Use string-length to compute the usage
        line length instead of wc and string->number, because string->number
        does not enjoy the leading spaces output by wc.
	* getdefs/getdefs.c: backslashes are not handled the same way as the
	single quote character  :-)

2001-05-18  Bruce Korb  <bkorb@gnu.org>

	* agen5/agUtils.c(doOptions): Preset the first copy of templ-dirs
	to "$$/../share/autogen" so that ag-distributed templates and
	definitions can be found at the end of the search list.
	* agen5/expString.c(shell-string): doc improvements
	* agen5/tpLoad.c(findFile): replace much logic with the newly exported
	"optionMakePath" routine + remove logic that hunts in the binary
	directory.  (We use the preset option as above now.)
	* autoopts/autoopts.c(make_path): renamed to optionMakePath
	and exported.
	* autoopts/autoopts.h(optionMakePath): declare routine extern

2001-05-07  Bruce Korb  <bkorb@gnu.org>

	* agen5/expExtract.c: allow for a default text argument

2001-05-07  Bruce Korb  <bkorb@gnu.org>

	* agen5/fsm-*.tpl: new files for example FSM output
	* agen5/fsm.tpl: use these & largely rewrite
	* agen5/opts.def: add --writable option
	* agen5/loadPseudo.c: adjust for new names for FSM output
	* agen5/expExtract.c: set --writable option when extract used
	* agen5/expFormat.c(dne): change "DO NOT EDIT" to "EDIT WITH CAUTION"
	in the presence of the --writable option
	* agen5/tpProcess.c: turn off write permission only if we do not
	have the --writable option.

2001-05-06  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcFor(for-index): accept a for loop name
	(for-first?): ditto
	(for-last?): ditto
	* agen5/fsm.tpl: simplify the code

2001-05-05  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(expExtract.c): new for (extract..) function
	* agen5/*.c: regularized usage of "expr.h"
	* agen5/expGperf.c: documentation and comment cleanup
	* agen5/expPrint.c(safePrintf): interpret as an error any "size"
	of more than 0x10000000 bytes (16 MBytes).
	* agen5/fsm.tpl: take advantage of the new (extract...) function
	* agen5/opts.def: doc tweaks
	* agen5/snarf.tpl: add teGuileType, eliminating expGuile.h
	* agen5/test/Makefile.am(extract.test): new test
	* agen5/test/snarf.test: fix for snarf.tpl changes
	* doc/Makefile.am: remove uninteresting dependency so the file
	list can be made dynamic
	* doc/auto_gen.tpl(Augmenting AutoGen): new chapter

2001-05-04  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* snprintfv/snprintfv/format.c(string_specifier_handler):
	Mask the character being output to ensure it is not interpreted
	as a negative number.
	* agen5/expPrint.c(safePrintf): validate the returned size.
	Choke if it is an error code.

2001-04-29  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.h: Added a definition stack structure type,
	built an allocated for-info structure, avoiding messing with
	stack structure switching
	* agen5/defLoad.c: Use global dynamic definition stack instead of
	static definition stack.
	* agen5/defFind.c: ditto
	* agen5/expGuile.c: ditto
	* agen5/defParse.y: ditto
	* agen5/expState.c: ditto
	* agen5/funcFor.c: ditto
	* agen5/tpProcess.c: ditto
	* agen5/funcDef.c: ditto
	(ag-invoke): broken, unused function that I cannot see use for: gone
	* agen5/test/dynref.test: test the new changes

2001-04-15  Bruce Korb  <bkorb@gnu.org>

	* getdefs/getdefs.c(buildPreamble): restore newline char at end of
	first line.  It is needed by the pattern matching.
	* getdefs/opts.def: remove documentation of bug.

2001-04-15  Bruce Korb  <bkorb@gnu.org>

	* agen5/bootstrap.dir(functions.h): set the DEBUG option when
	appropriate
	* agen5/defLoad.c(zFmt): create the scratch buffer for DEBUG
	* agen5/funcDef.c(mFunc_Debug): print out DEBUG macro args on
	trace
	* agen5/funcFor.c(doForEach): set the proper superior def context

2001-03-26  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl(naming values): new section
	* agen5/*: remove current def pointer from arg lists,
	use a global instead.  Eventually, we use stacked contexts.

2001-03-22  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl(naming values): new section describing the
	syntax for naming AutoGen values in templates.  Needs work.
	* agen5/funcFor.c(mFunc_For): allow for local-only loop vars.
	* agen5/test/define.test: test "recursive" defines.  Tricky.

2001-03-21  Bruce Korb  <bkorb@gnu.org>

	* agen5/defFind.c(canonicalizeName): allow for leading '.'
	(findEntryList): Disallow "nesting" when name starts with '.'
	(findDefEntry): ditto
	
2001-03-21  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* agen5/autogen.c(abendSignal): Do not dereference pCurMacro if
	pCurTemplate is NULL.

2001-03-19  Bruce Korb  <bkorb@gnu.org>

	* agen5/expState.c(entry_length): remove redundant code.
	(count_entries): ditto (duplicates findEntryList())

2001-03-17  Bruce Korb  <bkorb@gnu.org>

	* agen5/loadPseudo.c(skipSuffixSpec): rename to doSuffixSpec and make
	global.  Processing is bypassed if: not in option processing, and
	either not processing main template *OR* there were --select-suffix
	options specified.
	* agen5/opts.def(select-suffix): new option for overriding the
	template suffix specifications.

2001-03-13  Bruce Korb  <bkorb@gnu.org>

	* configure.in(GUILE_INC): new substitution
	* autoopts/test/Makefile.am(TESTS_ENV): add $(LIBS)
	* autoopts/test/guile.test: remove inconsistent last line from output
	* agen5/test/gperf.test: test for gperf program before running test
	* autoopts/Makefile.am: add GUILE_INC to INCLUDES list
	* agen5/Makefile.am: ditto

2001-03-10  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcEval.c(evalExpression): Correct the handling of apply-
	when-not-found expressions
	* autoopts/Makefile.am(libopts_la_LDFLAGS): remove broken -no-undefined
	* agen5/agUtils.c(strlcpy): fix warning
	* agen5/snarf.tpl(init-proc): default to ``scm_init''.
	* agen5/test/get.test: add test for getting non-existent value
	* autoopts/doc.tpl: remove genshellopt historical text, since the
	SIGCHLD bug is now worked around
	* agen5/opts.def: make the doc texi-friendly
	Invoke ``scm_init'' when dl-opening a function library

2001-03-07  Bruce Korb  <bkorb@gnu.org>
	
	* configure.in: check for dynamic library support
	* agen5/Makefile.am: add -export-dynamic to link args, if supported
	* agen5/opts.def(load-functions): add new option, disabled if not
	supported
	* agen5/snarf.tpl: document how to use it + better support for
	symbols and syntax thingies
	* agen5/bootstrap.dir: add newly required global assignment
	* agen5/test/Makefile.am: run new test
	* agen5/test/snarf.test: add new test
	* agen5/autogen.c(main): set the SIGCHLD response to SIG_DFL.
	This will create zombies, but not very many, we hope.
	Avoids bug in GCC 2.95 series and in SCO's compiler.

2001-02-24  Alexandre Duret-Lutz  <duret_g@epita.fr>

	* agen5/expState.c: Use @pxref and @ref in lieu of @xref, as approp.
	* agen5/funcCase.c: ditto
	* agen5/funcEval.c: ditto
	* agen5/funcIf.c: ditto
	* autoopts/doc.tpl: ditto
	* doc/auto_gen.tpl: ditto
	* doc/snprintfv.texi: ditto
	* getdefs/getdefs.c: ditto + remove caps from case insensitve RE.

2001-02-24  Bruce Korb  <bkorb@gnu.org>

	* autoopts/options.tpl: use the no-editing hints with the DNE macro

2000-11-29  Bruce Korb  <bkorb@gnu.org>

	* agen5/agUtils.c( strlcpy ): correct signature
	* configure.in: test for strlcpy
	* agen5/autogen.h( strlcpy ): add declaration when needed

2000-11-04  Bruce Korb  <bkorb@gnu.org>

	* VERSION: bump the versions
	* autoopts/autoopts.c: change assignment to compare. :)

2000-11-02  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.[ch]: implement RC file sections, de-implement
	"detail file" handling in "more-help" mode.
	* autoopts/optcode.tpl: omit the detail file pointer
	* autoopts/save.c: slight reformatting.

2000-10-28  Bruce Korb  <bkorb@gnu.org>

	* autoopts/*: much cleaning up
	* autoopts/test/*.test:  rework for slightly altered help output
	* autoopts/autoopts.h: add private procedure
	* autoopts/doc.tpl: document, document, document
	* autoopts/options.h: remove private procedure
	* autoopts/optlib.tpl: use new features correctly

2000-10-27  Bruce Korb  <bkorb@gnu.org>

	* autoopts/options.h: Join the mode, type and procedure names in the
	DEF_PROC_* macros.
	* autoopts/*:  Adjust for this

	* autoopts/autoopts.c: rewrite for improved flexibility.  We need to
	run through the option lists twice.  In one direction looking for
	"immediate action" options, then the other handling the rest.

2000-10-17  Bruce Korb  <bkorb@gnu.org>

	* agen5/expGuile.c: add string->c-name function

2000-10-16  Bruce Korb  <bkorb@gnu.org>

	* autoopts/stdoptions.def:  Provide a set of standard options that
	clients can take advantage of easily.  Add `boolean' and `keyword'
	option argument types.  Handle `numeric' arguments seamlessly.
	* VERSION: this change breaks compatibility  :-(
	* autoopts/boolean.c:  New file for options with boolean args
	* autoopts/enumeration.c:  New file for options with keyword args
	* autoopts/numeric.c:  New file for options with numeric args
	* autoopts/*:  Handle the new arg_type attribute
	* autoopts/Makefile.am:  Add and distribute the new files
	* autoopts/test/argument.test:  Test the new arg_type attribute
	* autoopts/test/stdopts.def:  Test the new arg_type attribute
	* autoopts/usage.c:  Handle the new arg_type attribute

2000-10-15  Bruce Korb  <bkorb@gnu.org>

	* autoopts/opt*.tpl: implemented xxx-value global attributes to allow
	the specification of flag characters for auto-supported options.
	* autoopts/doc.tpl: document it
	* autoopts/test/vers.test: test it

2000-10-12  Bruce Korb  <bkorb@gnu.org>

	* agen5/defFind.c: The canonicalization of value names downcased
	#define names.  That doesn't work.

2000-10-07  Bruce Korb  <bkorb@gnu.org>

	* autoopts/*.tpl:  Made the templates emit K&R C
	* autoopts/*.[ch]:  The sources should now compile with a K&R compiler

2000-09-29  Bruce Korb  <bkorb@gnu.org>

	* agen5/expGperf.c: new.  Implements (make-gperf ...) and
	(gperf ...) scheme functions.
	* autoopts/*.tpl: added 'guile-main' as a global program attribute.
	the main/inner_main functions are produced.
	* autoopts/guileopt.c: routine to export option state to Guile
	* autoopts/Makefile.am: put the above in a separate library
	* autoopts/test/guile.test: validate the options with Guile commands

2000-09-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/*.c: cleaned up the memory usage and ensured that AutoGen
	always exits with a message when allocations fail.
	Also added the string-*! routines.  They will always be there now.

2000-09-26  Bruce Korb  <bkorb@gnu.org>

	* agen5/expGuile.c: add replacements for (string-upcase ...),
	(string-downcase ...) and (string-capitalize ...) - sometimes missing

2000-09-26  Carlos Henrique Bauer  <bauer@atlas.unisinos.br>

	* configure.in: replace ``[...]'' test expression with ``test ...''

2000-09-22  Bruce Korb  <bkorb@gnu.org>

	* */bootstrap*: Clean up syntax for lame shells

2000-09-17  Bruce Korb  <bkorb@gnu.org>

	* agen5/expOutput.c: replace ancient error messages with new macros

2000-09-16  Bruce Korb  <bkorb@gnu.org>

	* agen5/expFormat.c(dne): added second optional argument to indicate
	inserting a DO NOT EDIT editing hint for emacs and vi.
	* agen5/*.tpl: use it

2000-09-15  Bruce Korb  <bkorb@gnu.org>

	* :mkconfig: add agen5/pseudo.x to shar-ed files
	* configure: regenerated
	* agen5/tpLoad.c(loadPseudoMacro,skipSuffixSpec) removed to:
	* agen5/loadPseudo.c: new file
	* agen5/Makefile.am: add new files
	* agen5/fsm.tpl: Finite State Machine generator
	* agen5/pseudo.def: FSM definitions for pseudo macro
	* agen5/bootstrap.dir: cleanup
	* compat/bootstrap.dir: cleanup
	* config/bootstrap: cleanup


2000-09-14  Bruce Korb  <bkorb@gnu.org>

	* */bootstrap*: use one authoritative decision about whether or
	not we have a valid autogen to use for bootstrap.

2000-09-13  Bruce Korb  <bkorb@gnu.org>

	* getdefs/*:  Moved all global vars to getdefs.h.
	Implemented a method for specifying global definitions.
	* getdefs/test/subblock.test: exercized the method

2000-09-10  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.h(pathfind): duplicates declaration from
	compat/compat.h - removed.
	* config/bootstrap(missing): move it so it can be used in:
	* config/bootstrap.local: exit when autogen is found missing
	* autoopts/autoopts.c(valid_path): corrected invalid mod of static
	data (only used on rare platforms)
	* */bootstrap.dir: suppress "cannot locage" messages during bootstrap
	(some of the scripts are used during the build)

2000-09-05  Jerome Lovy  <Jerome.Lovy@infonie.de>

	* autoopts/test/Makefile.am:  Pass through the
	${top_builddir}/autoopts directory to the "defs" script
	* autoopts/test/defs: use it in the compile

2000-08-30  Bruce Korb  <bkorb@gnu.org>

	* autoopts/doc.tpl(genshellopts): make the compilation more robust
	* config/bootstrap.local(whence): use a shell function based on
	'type' when both "whence" and "which" are not available.

2000-08-28  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(valid_path):  new procedure.  If a path is
	prefixed with "$$", replace it with the path to the executable.
	(doPresets): only call pathfind on the program
	name if it does not contain a directory name.
	* autoopts/optcode.tpl: Change "exerc" to emit an homerc entry "$$"
	instead of the now obsolete flag.
	* autoopts/doc.tpl: document the new behavior

	* autoopts/test/rc.test: new - test the new feature
	* autoopts/test/Makefile.am: activate test
	* autoopts/test/defs: compile test programs with debugging symbols
	* autoopts/test/stdopts.def: correct shell case syntax

2000-08-12  Bruce Korb  <bkorb@gnu.org>

	* agen5/expString.c(ag_scm_join): the lists can arrive as nested lists.
	(ag_scm_stack): did the implementation.
	* agen5/defFind.c(copyDefReference): obsoleted
	(canonicalizeName): replacement procedure - more flexible
	* agen5/agUtils.h: ISNAMECHAR now includes the hyphen
	* agen5/funcEval.c: use ``canonicalizeName'' instead of ``copy...''
	* agen5/functions.c: ditto
	* agen5/test/Makefile.am: add test for Scheme function ``stack''

2000-08-11  Gary V. Vaughan  <gvv@techie.com>

	* configure.in:  Forgot to AC_SUBST the autoopts version macros.

2000-08-10  Bruce Korb  <bkorb@gnu.org>

	* Applied fixes from home.
	* agen5/expFormat.c: clean up the BSD license
	* autogen/agen5/autogen.h: Set maximum size of a suffix in a suffix list,
	defined a structure to contain everything we need to know about
	a mmap-ed file
	* autogen/agen5/bootstrap.dir(proto.h): date stamp the file
	* autogen/agen5/defDirect.c: use suffix list argument for "findFile"
	* autogen/agen5/expFormat.c: license function reads text from a file
	* autogen/agen5/opts.def: use suffix list argument for "findFile"
	* autogen/agen5/tpLoad.c: Export a new function, "loadFile", add
	a suffix list for "findFile", deallocate a once-only memory leak
	* autogen/autoopts/options.h: correct struct version id
	* autogen/configure: regenerate

2000-08-09  Bruce Korb  <bkorb@gnu.org>

	* agen5/bootstrap.dir: do not use "if ! <cmd>".  Fails on OSR5 :-(

2000-08-09  Gary V. Vaughan  <gvv@techie.com>

	* VERSION: Fixed up libopts version numbers.
	* autoopts/options.h:  Fixed to match.
	* autoopts/Makefile.am: Use it.

2000-08-07  Bruce Korb  <bkorb@gnu.org>

	* agen5/defFind.c(findDefEntry): if a compound definition cannot
	be found within a block definition, check a twin also  :-)
	* agen5/expState.c: change references to findDefEntry and replace
	references to "find_any_entry" to this procedure, since it now works
	for that purpose.
	* agen5/funcEval.c: ditto
	* agen5/funcFor.c: ditto
	* autoopts/test/shell.test: Fixed some brokenness in example output!!
	* agen5/test/opts.test: Inverted sense on DEBUG options check

2000-07-31  Bruce Korb  <bkorb@gnu.org>

	* autogen/options.tpl:  Clarified messages about when 'value' option
	attributes are required

2000-07-28  Bruce Korb  <bkorb@gnu.org>

	* config/autogen.spec.in: new file - precursor for autogen.spec
	* configure.in: configure the above file
	* MakeRules.in: obsolete

2000-07-26  Bruce Korb  <bkorb@gnu.org>

	* agen5/expState.c(ag_scm_tpl_line): deleted
	(ag_scm_tpl_file_line): added

2000-06-22  Bruce Korb  <bkorb@gnu.org>

	* agen5/expString.c( makeString ): Place contiguous newline
	representations on a single line
	* AUTHORS: removed reference to sigsend.c
	* configure.in: removed reference to sigsend.c
	* compat/Makefile.am: removed reference to sigsend.c
	* compat/sigsend.c: removed
	* :mkconfig: corrected touch format
	* configure: regenerated with corrected touch format
	* autoopts/test/*.test: some broken shells do not pass args
	to dot-sourced functions  >:-(

2000-06-21  Bruce Korb  <bkorb@gnu.org>

	* agen5/expString.c( ag_scm_prefix ): return the result SCM instead
	of the source SCM  :-}
	* agen5/agShell.c(closeServer): use kill(2) instead of sigsend(3)

2000-05-15  Bruce Korb  <bkorb@gnu.org>

	* agen5/defLex.c(assembleName): use the ISNAMECHAR() macro to
	determine which entries are marked as name characters.

2000-04-17  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl:  Adding '@finalout' will remove ugly blotches
	* autoopts/optlib.tpl:  Quote the sedded value - protect from shell
	* autoopts/makeshell.c(emitUsage):  put the program in the usage
	text for shell option processing
	* autoopts/autoopts-config.in:  snprintfv is incorporated in libopts.
	* agen5/expString.c(ag_scm_shell_str):  do not escape backslashes
	when they appear before '$' and '`'.
	* agen5/expState.c(ag_scm_tpl_line_num):  deleted
	* agen5/expState.c(ag_scm_tpl_file_line): added in its stead

2000-04-09  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcDef.c:  Fixed bug in assembling arg lists
	* agen5/expState.c:  Added ag-function? and tpl-line Scheme functions
	* getdefs/getdefs.c:  Allow underscores in the default pattern
	* agen5/tpParse.c:  allow dotted names in macro names

2000-04-06  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl:  Document the "here string" construct
	* agen5/defDirect.c:  doc cleanup
	* agen5/expState.c:  doc cleanup
	* agen5/funcCase.c:  doc cleanup
	* agen5/funcDef.c:  doc cleanup
	* agen5/opts.def:  doc cleanup
	* autoopts/doc.tpl:  doc cleanup
	* doc/autobuild/autobuild.html:  doc cleanup
	* doc/compatlib/compatlib.html:  doc cleanup
	* getdefs/opts.def:  doc cleanup

2000-04-05  Bruce Korb  <bkorb@gnu.org>

	* agen5/defLex.c:  Implemented a "here string" construct
	* agen5/test/heredef.test:  Tested the construct
	* agen5/test/Makefile.am:  enabled the test

2000-04-05  Gary V. Vaughan  <gvv@techie.com>

	* snprintfv/...: Various fixes

2000-03-28  Bruce Korb  <bkorb@gnu.org>

	* Makefile.am's & bootstrap.dir's throughout:  Use the configured
	value `AGEXE' for the executable name of autogen.  Also,
	finished the implementation of the ``configure'' shar archive
	of AutoGen-ed source files (solves chicken-and-egg problem).
	* everything: changed <autogen@linuxbox.com> to <bkorb@gnu.org>
	* autoopts/stack.c:  We need to completely clear the option
	state when "unstack" empties the argument stack.

2000-03-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/expState.c(ag_scm_match_value_p):  New Guile expr function.
	* agen5/funcCase.c:  add expression processing tracing

2000-03-18  Bruce Korb  <bkorb@gnu.org>

	* autoopts/doc.tpl:  Highlighted and documented the AutoMan and
	AutoInfo capabilities :-)
	* autoopts/agman1.tpl:  minor cleanup
	* autoopts/aginfo.tpl:  ditto

2000-03-18  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optlib.tpl:  add USAGE_LINE.  Omits square brackets
	around option syntax if there are required arguments.
	* autoopts/optcode.tpl:  Make the usage invocation syntax a
	subroutine "USAGE_LINE" in optlib.tpl

2000-03-12  Bruce Korb  <bkorb@gnu.org>

	* *: cleaned up comments so docs are prettier
	* agen5/autogen.h(pfTrace): `stderr' is no longer static
	* agen5/defDirect.c(doDir_elif): added to remove warning
	* agen5/defLex.c(alist_to_autogen_def): auto-load schemedef.scm
	when it is needed.
	* agen5/expFormat.c(bsd):  add an incorrect BSD license
	* agen5/functions.c(include):  strip trailing white space from
	included files.
	* agen5/opts.def(copyright):  "improved" formatting :-)
	(load_scheme): is now "settable".  Used in defLex.c.
	* agen5/test/Makefile.am: activate three tests, one new
	* agen5/test/directives.test: new
	* agen5/test/*.test: many tweaks
	* autoopts/aginfo.tpl:  add license type to info doc.
	* autoopts/agman1.tpl:  add license type to man page.
	* autoopts/autoopts.c:  Arguments after the options may
	now be any of:  prohibited, possible or required.  Test for these.
	Also, since older structs may still have valid interpretations,
	allow for a range of acceptable structure versions.
	* autoopts/autoopts.h:  define the minimum acceptable version
	* autoopts/optcode.tpl: rework the copyright as a structured value
	and add the "ARGS_REQ" flag if the argument value exists and does
	not start with the '[' character.
	* autoopts/options.h: add the OPTPROC_ARGS_REQ flag, bump the version
	* autoopts/optlib.tpl:  new copyright layout and change the
	numeric OPT_VALUE_xxx macro for picky compilers

2000-03-12  Bruce Korb  <bkorb@gnu.org>

	* autoopts/test/*:  Added automated option testing
	* agen5/defLoad.c:  zero out the definition context struct before use
	* agen5/defDirect.c:  ditto
	* agen5/test/reorder.test:  corrected template name

2000-03-09  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl: simplified a minor expression

2000-03-07  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optlib.tpl: Corrected improper l-value reference
	* agen5/proto.h: removed.  It is now generated.
	* VERSION: fixed some referencing holes for when it is not
	invoked in the top level directory.
	* agen5/tpLoad.c: added ``#include <sys/types.h>'' for sys/mmap.h.

2000-03-05  Bruce Korb  <bkorb@gnu.org>

	* agen5/*:  reworked prototyping
	* agen5/proto.h:  is now generated

2000-03-04  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcEval.c: The '?%' macro function failed.
	* agen5/tests/forfrom.test: added.  Tests the above.
	* agen5/tests/Makefile.am: added forfrom to test list

2000-02-29  Bruce Korb  <bkorb@gnu.org>

	* agen5/defFind.c: Added routine to copy a definition reference
	* agen5/functions.c: use the routine
	* agen5/funcEval.c: ditto

2000-02-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/defLex.c: Added comma to list of token characters.
	* agen5/defReduce.c: reworked `addSibMacro' so the logic is
	more comprehensible.  Downside:  I did tricky things with
	a pointer to pointer.
	* agen5/expFormat.c(ag_scm_error):  message now distinguishes
	between errors and warnings.  Also, it is silent if there is
	no warning message to print.
	* agen5/functions.c( mfunc_Error ): obsoleted by Guile function
	* " (insertSubscript):  New - for handling subscripted definition
	references as an AutoGen "function" name.
	* " (mload_Unknown): calls above function when a name
	is immediately followed by a '[' character.
	* agen5/tpProcess.c: commentary changes
	* agen5/test/Makefile.am:  Added error.test and for.test
	* agen5/test/error.test, agen5/test/for.test: new

2000-02-14  Bruce Korb  <bkorb@gnu.org>

	* agen5/defParse.y:  Added syntax to allow for comma separated
	value lists.
	* agen5/defReduce.c:  Implementation
	* agen5/defLex.c:  commas are now a special token
	* autoopts/optlib.tpl:  OSR5 regex cannot grok "^(|:|=)$"  :-(

1999-11-08  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcDef.c:  Template structure needed more space.

1999-11-05  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/*:  recreated a number of tests that were in
	the tests/* directory.

1999-10-31  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl:  Reworked
	* agen5/*:  Documentation rework
	* getdefs/getdefs.c:  allow for empty string definitions
	* getdefs/test/*:  Created a test case for getdefs

1999-10-27  Bruce Korb  <bkorb@gnu.org>

	AutoGen Version 5:
	* agen5/*:  Reworked virtually everything.  See NEWS.
	* */*.tpl: Reworked them to the new template format.
