#! /bin/echo AutoGen_Version_5.0,_but_this_should_be_sourced
# -*- Mode: sh -*-
# ----------------------------------------------------------------------
# VERSION --- Set version info for GNU-ish tool use
#
# Copyright (C) 1999, 2002 Bruce Korb
#
# Last Modified:     Wed Aug  9 02:24:41 2000
# Author:            Bruce Korb <bkorb@gnu.org>
# Maintainer:        Bruce Korb <bkorb@gnu.org>
# by:                Gary V. Vaughan <gvv@techie.com>
# ----------------------------------------------------------------------

AG_MAJOR_VERSION=5
AG_MINOR_VERSION=3
AG_REVISION=$AG_MAJOR_VERSION.$AG_MINOR_VERSION
AG_PATCHLEVEL=".5pre1"
AG_VERSION=$AG_REVISION$AG_PATCHLEVEL

# Making releases:
#   AG_PATCHLEVEL=""
#   AG_MINOR_VERSION += 1 (OR AG_MINOR_VERSION = 0 && AG_MAJOR_VERSION += 1)
#
# AutoOpts versioning:
#
# AO_CURRENT  represents the number of visible changes to the interface
# AO_REVISION represents the number of times the library has been
#             modified with an unchanged interface.
# AO_AGE      represents the number of older revisions the current library
#             is capable of handling.
#
AO_LIBRARY=libopts.la
AO_CURRENT=12
AO_REVISION=0
AO_AGE=3

GO_LIBRARY=libguileopts.la
GO_CURRENT=0
GO_REVISION=1
GO_AGE=0

MAINTAINER='Bruce Korb <bkorb@gnu.org>'

# For automake
#
VERSION=$AG_VERSION
PACKAGE=autogen

#  Validate struct marker in autoopts/options.h
#  The computation here must be kept in sync with
#  MIN_OPTION_VERSION and NUM_TO_VER in autoopts/autoopts.h
#
if [ -n "$srcdir" ] && [ -s $srcdir/autoopts/options.h ] ; then
  hdr=`egrep OPTIONS_STRUCT_VERSION $srcdir/autoopts/options.h |
       sed 's/.*OPTIONS_STRUCT_VERSION *//'`
  lib=`expr '(' $AO_CURRENT   '*' 4096 ')' \
          + '(' $AO_REVISION  '*'  128 ')' \
          + $AO_AGE`

  if [ ${hdr}0 -ne ${lib}0 ] ; then
    echo autoopts/options.h out of sync with version.
    echo OPTIONS_STRUCT_VERSION is $hdr, should be $lib
  fi
fi

# Display version numbers banner for my sanity!
#
soname=$AO_LIBRARY-$AO_CURRENT:$AO_REVISION:$AO_AGE
spaces="                                        "
while :
do
  string="$PACKAGE-$VERSION$spaces$soname"
  if echo "$string" | grep '^.\{78,\}$' > /dev/null; then
    break
  fi
  spaces=" $spaces"
done

cat << _EOF_
------------------------------------------------------------------------------


                 A      U      T      O      G      E      N

$string
------------------------------------------------------------------------------
_EOF_

# VERSION ends here
