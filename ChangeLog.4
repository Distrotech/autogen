2002-12-27  Bruce Korb  <bkorb@gnu.org>

	* doc/auto_gen.tpl: genshellopts now needs lib math

2002-12-14  Bruce Korb  <bkorb@gnu.org>

	* */opts.def: change bugs@sf.net to bugs@lists.sourceforge.net throughout

2002-12-14  Bruce Korb  <bkorb@gnu.org>

	* agen5/expFormat.c(ag_scm_dne): add another optional argument.
	If the first arg is "-d", then do not insert a date and shift args 1.
	* agen5/test/format.test: test this feature
	* snprintfv/*: upgrade to 0.99f, with patches to make it work
	* agen5/opts.def(define): Make note of when and how the -D arguments
	get exported into the environment variables.
	* autoopts/agman1.tpl(flags_must): fix opton spelling
	* autoopts/autoopts.c(optionLoadLine): fix AGDUPSTR usage.
	* autoopts/makeshell.c(emitSetup): fix type cast
	* autoopts/save.c(optionSaveFile): ditto
	* autoopts/streqvcmp.c(streqvmap): silence a stupid Sun warning
	* doc/autogen.texi: use correct xref macro

2002-12-10  Bruce Korb  <bkorb@gnu.org>

	* agen5/defReduce.c(freeEntry): new
	(getEntry): export for use
	* agen5/funcCase.c: remove 'alias:' entries
	* agen5/funcEval.c: ditto
	* agen5/functions.c: ditto
	* agen5/funcFor.c(mLoad_For): implement FOR x IN ...
	(mFunc_For): ditto
	* agen5/test/forin.test: test new functinality
	* agen5/test/Makefile.am(forin.test): run new test
	* agen5/functions.h(expr_8): allow for names to start with '.'
	(current context lookup only)
	* agen5/tpLoad.c(mUnload_For): unload
	(mUnload_Match): unload
	(unloadTemplate): new function
	* autoopts/autoopts.h: read snprintfv/printf.h -- must use snv
	* autoopts/makeshell.c: remove duplicate #includes and clean up
	unused code
	* autoopts/putshell.c: ditto
	* config/bootstrap.local: clean up sedding of configure.in
	and copy the snprintfv m4 macros into the config directory

2002-12-08  Bruce Korb  <bkorb@gnu.org>

	==5.4.8 Released

2002-12-05  Bruce Korb  <bkorb@gnu.org>

	* snprintfv/*: reworked everything & incorporated 0.99d
	* agen5/test/defs(FAILURES): fix directory name
	* autoopts/optcode.tpl(extern tOptProc): add semicolon to stmt end
	* doc/auto_gen.tpl(html-escape-encode): quote the strings

2002-11-08  Bruce Korb  <bkorb@gnu.org>

	* agen5/fsm-macro.tpl(ttype): fix capitalization issue for all-state
	transitions when the transition type is not specified.
	* autoopts/agman1.tpl(use-flags): do the (exist? "flag.value") once
	(arg-default): make it look prettier.
	(help): fix spacing & bold font
	(more-help): ditto
	(save-opts): ditto
	(load-opts): ditto
	(version): ditto
	* autoopts/save.c(printEntry): cope with optional arguments

2002-11-04  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optlib.tpl(usage-line): provide text for the "false"
	path.  Guile chokes on appending #f to a string.

2002-10-30  Bruce Korb  <bkorb@gnu.org>

	* agen5/expPrint.c(ag_scm_hide_email): new function
	* agen5/test/format.test: modify - test the functionality

2002-10-25  Bruce Korb  <bkorb@gnu.org>

	* agen5/expPrint.c(ag_scm_format_arg_count): new function
	* agen5/test/format.test: new - test the functionality

2002-10-14  Bruce Korb  <bkorb@gnu.org>

	==5.4.7 Released
	* autoopts/Makefile.am(libguileopts_la_CFLAGS): set to GUILE flags
	* autoopts/test/Makefile.am(INCLIST): add $(GUILE_CPPFLAGS)

2002-10-12  Bruce Korb  <bkorb@gnu.org>

	* config/confmacs.tpl(emit-results): add a yes-libflags action that
	figures out how to set the xx_CPPFLAGS and xx_LDFLAGS macros correctly.
	(througout): marked the ``# end of'' whatevers with a name
	* config/misc.def(libguile): use the libflags action
	(libxml2): ditto

2002-10-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(YFLAGS): change to AM_YFLAGS for automake 1.7.
	Can't use am1.7 anyway, though.
	* autoopts/autoopts.c(optionMakePath): documentary changes
	* autoopts/usage.c(optionUsage): printInitList needs the full program
	path, not just the program name.

2002-10-06  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(autogen_LDFLAGS): add guile flags
	(autogen_CFLAGS): new -- add guile flags
	* config/misc.def(guile): save flags in GUILE_CPPFLAGS and LDFLAGS
	* doc/Makefile.am(xml2ag.menu): correctly detect when xml2ag is absent

2002-09-30  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(AGDUPSTR): make sure to call this where needed!
	* autoopts/makeshell.c: ditto.

2002-09-29  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(loadOptionLine): fix broken storage of optional
	argument options.
	* agen5/bootstrap.dir(getdefs): use a config file instead of pug-ugly
	command line options.
	* agen5/test/snarf.test(cfg): use a config file.
	* autoopts/cmd.sh(cfg): use a config file.

2002-09-28  Bruce Korb  <bkorb@gnu.org>

	5.4.4 Release.
	* configure.in(error.h): check for this header, too
	* agen5/defReduce.c(addSibMacro): work around a GCC 3.x aliasing bug
	* agen5/expString.c(string-substitute): expand the example
	* agen5/opts.def(load_functions): clean up the invocation appearance
	* agen5/snarf.tpl(string_content): quote the echoed string
	* autoopts/optcode.tpl(patch-text): new function to convert texi-isms
	to ``whatever'' for usage display.
	* autoopts/options.tpl: ditto + reorganization

2002-09-21  Bruce Korb  <bkorb@gnu.org>

	* getdefs/getdefs.c: correct mishandling of common-assign option
	* getdefs/test/cfg.test(new): test it
	* getdefs/test/Makefile.am(cfg.test): add to test list
	* autoopts/enumeration.c(optionEnumerationVal): Let a program option
	descriptor of "2UL" be a request to convert an enum value to a string
	* autoopts/save.c(optionSaveFile): Before printing an enum to the save
	state file, convert it back to a string.
	* autoopts/test/keyword.test: test this functionality
	* autoopts/makeshell.c(emitSetup): Similarly for default values for
	emitting a shell script parser.

2002-09-20  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(SUFFIXES = .i): rule for preprocessing
	* agen5/agUtils.c(alloc): move MEMDEBUG stuff to autoopts
	* agen5/agUtils.h(SUCCESS): move this to autoopts.h
	* agen5/autogen.c(ag_alloc): renamed these routines to aopts_alloc, ...
	* agen5/autogen.h(autoopts.h): include this header for all compiles
	(mem_mgmt): move this struct and allocation defines to autoopts.h
	* agen5/*: use the moved macros consistently
	* autoopts/*.c(include): regularize header usage & allocation macros too
	* autoopts/streqvcmp.c(streqvmap): use 'char' type for args
	(aopts_alloc): move the memory debugging code here
	* compat/compat.h: bring in sync with new demands
	* config/confmacs.tpl: syncronize a little better with network form
	* configure.in(AUTOGEN_BUILD): define this always
	* getdefs/getdefs.h: use compat.h to handle inconsistent header files
	and the SUCCESS/FAILURE stuff
	* pkg/libopts/mklibsrc.sh: strip out parts of files that should not be
	exported from the tear-off library

2002-09-14  Bruce Korb  <bkorb@gnu.org>

	* config/confmacs.tpl(try-test): preserve exit status for invoking shell
	* config/misc.def(xml2): ditto
	* pkg/libopts/mklibsrc.sh: distribute the "compat" dir, too
	(autoopts.h): strip the #include of snprintf.h for tear-off library
	* autoopts/autoopts-config.in(autogen): add exeext
	* pkg/libopts/README: clarify what happens some more

2002-09-12  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(html-escape-encode): new scheme function.
	* config/confmacs.tpl(protect-text): function for escaping
	autoconf special characters.
	* doc/auto_gen.tpl: doc the new and old scheme functions.

2002-09-10  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts-config.in: variables are very order dependent.
	* pkg/libopts/mklibsrc.sh(Makefile.am): make sure various files are
	redistributed by the host project

2002-09-09  Bruce Korb  <bkorb@gnu.org>

	* autoopts/options.tpl(set-flag-names): new scheme func for setting up
	the variations for option names.  Invoked on every iteration over "flag"
	* autoopts/optcode.tpl(define): define Scheme variables globally and use
	`set-flag-names'.
	* autoopts/optlib.tpl: ditto
	* autoopts/optmain.tpl: ditto
	* autoopts/opthead.tpl: ditto

2002-09-02  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts-config.in: Correctly print the path to autogen.
	Organize the list of configure values that get printed
	* autoopts/autoopts-config.1: doc the values and their names

2002-08-22  Bruce Korb  <bkorb@gnu.org>

	= AutoGen 5.4.2 released
	* pkg/libopts/README: reworked w/ help of
	Alexandre Duret-Lutz <duret_g@lrde.epita.fr>
	* pkg/libopts/mklibsrc.sh: use a fixed subdirectory name and
	create an automake fragment file, `MakeDefs.inc'
	* autoopts/autoopts.m4(AUTOOPTS_LDFLAGS): misnamed.  It is the
	AutoGen template library directory --> AUTOGEN_TPLIB

2002-08-18  Bruce Korb  <bkorb@gnu.org>

	* autoopts/Makefile.am(libsrc): Make this a non-distributed but
	installable pkgdata_DATA file
	* autoopts/autoopts-config.in: rework to use a list of options
	* config/bootstrap(missing): use working directory, don't insist
	upon "config" as the configury directory.
	* config/conftest.tpl(Makefile.am): don't generate, move text to ..
	* Makefile.am(DIST): distribute files from config/ directory
	* configure.in(AC_INIT): update the version tag and bug address
	* doc/Makefile.am(autogen.def): Put this in the standard build sequence
	and kludge the source directory so the .info file can get rebuilt when
	we are doing a "make distcheck".  Ick.
	* pkg/libopts/mklibsrc.sh(if): use "test" instead of "[" - M4 quoting
	* pkg/libopts/README: add more details about what one needs to do.
	**NINE** steps are now enumerated.
	* pkg/libopts/mklibsrc.sh(LIBOPTS_DIST): needed as "extra dist" stuff
	for when libopts is already installed.
	* autoopts/agman1.tpl(default): When an option is the default option
	for a named-option-mode program, say so in the man page.

2002-08-12  Bruce Korb  <bkorb@gnu.org>

	* pkg/libopts/mklibsrc.sh: genshell.[ch] are not relevant
	Add a --with-autoopts-config, in case someone has to specify the script
	Create LDADD and CFLAGS substitutions, too.
	* pkg/libopts/README: make the instructions current

2002-08-11  Bruce Korb  <bkorb@gnu.org>

	* config/libopts.def: use ifdef rather than sed
	* doc/Makefile.am(compete): remove competition stuff.  Web only.
	* doc/auto_gen.tpl(compete): ditto
	* doc/autogen.texi(compete): ditto
	* pkg/libopts/README(LIBOPTS_DIR): use a substitution variable
	* pkg/libopts/mklibsrc.sh(autoopts.m4): don't extract from autoopts
	(AUTOOPTS_CHECK): insert a macro to check for pre-existing installation

2002-08-10  Bruce Korb  <bkorb@gnu.org>

	* pkg/*: new directory structure for managing the building of packages
	* pkg/libopts/*: added files needed by the tear-off libopts source
	* config/misc.def: removed macros needed by the libopts tear-off
	* config/libopts.def: new

2002-07-27  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl(eaddr): use "eaddr" instead of inventing new attr.
	* autoopts/optcode.tpl: ditto
	* columns/opts.def: ditto
	* doc/auto_gen.tpl: ditto
	* getdefs/opts.def: ditto
	* agen5/opts.def: ditto
	* agen5/loadPseudo.c(doSchemeExpr): count newlines in the scheme expr

2002-07-25  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl: Remove redundant doc
	* autoopts/putshell.c: enabled but unused options have their default
	values printed to the shell script output
	* autoopts/options_h.tpl(pzBugAddr): string pointer for a
	"mail-bug-reports-to" copyright attribute
	* autoopts/optcode.tpl(copyright.bugs): create string when attr present
	* autoopts/usage.c(pzBugAddr): print it when present
	* autoopts/version.c(pzBugAddr): print it for long version
	* autoopts/aginfo.tpl(USAGE): double the '@' chars for texi
	* doc/auto_gen.tpl: ditto
	* agen5/opts.def(copyright): add new field
	* columns/opts.def(copyright): add new field
	* getdefs/opts.def(copyright): add new field

2002-07-10  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optmain.tpl(main): allow clients to specify the contents
	of the main procedure.
	* doc/autogen.texi(main-text): doc it
	* autoopts/options_h.tpl(OPTIONS_MINIMUM_VERSION): derive from VERSION
	* autoopts/autoopts.c(optionProcess): use the new value
	* autoopts/autoopts.h(MIN_OPTION_VERSION): remove #define
	* autoopts/bootstrap.dir(funcs.def): create a definition for this.

2002-07-08  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(doImmediateOpts): put the version into the
	source in string format so "strings(1)" can find it.
	* autoopts/bootstrap.dir: compute the value for that purpose
	* autoopts/options_h.tpl: insert the computed value
	* config/confmacs.tpl: restore CPPFLAGS and LDFLAGS on failure
	* config/misc.def: only specify libxml includes and lib for the
	xml2ag directory.  Do this with XML2AG_* substitution variables.
	* xml2ag/Makefile.am: use the substitution variables
	* snprintfv/Makefile.am: restore the old version.  New is broken.
	* snprintfv/snprintfv/Makefile.am: bootstrap.dir is not distributed

2002-07-07  Bruce Korb  <bkorb@gnu.org>

	* agen5/defDirect.c(doDir_option): new procedure to allow embedded
	options in definitions files.
	* agen5/expState.c(ag_scm_set_option): similar for template files
	* agen5/test/directives.test: test it for finding a template.

2002-06-27  Bruce Korb  <bkorb@gnu.org>

	* xml2ag/xml2ag.c: add casts to avoid warnings.
	* config/misc.def: fix sed expressions
	* doc/Makefile.am: Regularize the add-on texi rules +
	accommodate possibility of xml2ag not being built.

2002-06-26  Bruce Korb  <bkorb@gnu.org>

	* xml2ag/xml2ag.c: add casts to avoid warnings.

2002-06-25  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts.c(doImmediateOpts): clarify the version mismatch
	message
	* noag-boot.sh: regenerate with cgi-fsm.h, too.

2002-06-20  Bruce Korb  <bkorb@gnu.org>

	* columns/Makefile.am(doc-stamp): dependency on exe needs $(EXEEXT)
	* getdefs/Makefile.am(doc-stamp): dependency on exe needs $(EXEEXT)
	* xml2ag/Makefile.am(doc-stamp): dependency on exe needs $(EXEEXT)

2002-06-14  Bruce Korb  <bkorb@gnu.org>

	* agen5/fsm-macro.tpl(suffix): put it all in Scheme
	* agen5/loadPseudo.c(loadPseudoMacro): avoid segfaults on empty files
	* agen5/defReduce.c: fix cast for warning elimination
	* columns/columns.c(snprintfv.h): remove unnecessary #include
	* compat/strsignal.c: ditto
	* getdefs/getdefs.h: ditto

2002-06-13  Bruce Korb  <bkorb@gnu.org>

	* defLex.c(yylex): prevent compilers from caching a changable value
	* autoopts/autoopts-config.in: don't try to provide a REGEX_LIB subs.
	* autoopts/optcode.tpl(doVersion): when compiling for a generated main,
	divert version output to stderr.
	* autoopts/save.c: remove redundant test + restrict scope of variable.
	* autoopts/version.c(doVersionStderr): new proc for generated mains.
	* doc/autogen.texi(XML): improve doc on how it is used.
	
2002-06-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/Makefile.am(getdefs): use the configured name
	* agen5/defReduce.c(makeEmptyDefs): anti-warning cast
	* autoopts/aginfo.tpl(explain): add explanitory info to top
	* autoopts/agman1.tpl(FOR flag): get correct enablement and disablement
	names and use them.
	* autoopts/opthead.tpl(HAVE_OPT): readability change
	* doc/Makefile.am(xml2ag): add documentation
	* doc/autogen.texi: tweak XML discussion
	* getdefs/Makefile.am: make it very similar to the xml2ag one
	* xml2ag/Makefile.am: make it very similar to the getdefs one
	* xml2ag/xmlopts.def(prog-info-descrip): doc the info variant some more.
	
2002-06-10  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl: pass entire doc through texi->man sed script
	* autoopts/agman3.tpl: ditto
	* xml2ag/Makefile.am: specify "columns" binary to use.
	* xml2ag/fork.tpl: use COLUMNS_EXE, when available.

2002-06-09  Bruce Korb  <bkorb@gnu.org>

	* xml2ag/*: new command.  Wrapper converts XML to autogen definitions
	and passes them to a spawned autogen process.  Requires libxml2 to build.
	* Makefile.am: make the building of xml2ag configurable
	* agen5/opts.def: Use this file for pass through opts for xml2ag
	* config/misc.def: Add the configured value $(XML2AG_DIR) to TOP_DIRLIST
	(xml): add a new "withlib" test, with a `xml2-config` test fallback.
	It will not override --no-libxml, however.
	* getdefs/Makefile.am(DISTCLEANFILES): add $(nodist_getdefs_SOURCES)

2002-05-29  Bruce Korb  <bkorb@gnu.org>

	* autoopts/test/Makefile.in(CPPFLAGS): specifically set the value
	* agen5/test/Makefile.in(CPPFLAGS): ditto

2002-05-28  Bruce Korb  <bkorb@gnu.org>

	* autoopts/autoopts-config.in(static-libs): new option
	* autoopts/autoopts-config.1(static-libs): doc it
	* agen5/defParse.y(makeEmptyDefs): Allow for def file with no defs.
	* agen5/defReduce.c(makeEmptyDefs): write the routine.

2002-05-11  Bruce Korb  <bkorb@gnu.org>

	* autoopts/agman1.tpl: filter entire doc for texinfo-isms
	* autoopts/agman3.tpl: ditto

2002-05-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/expPrint.c(ag_scm_printf): clarify usage.
	* autoopts/test/errors.test(RC): create directory early for usage display
	* autoopts/usage.c(printInitList): program name now needed to expand
	'$$' references.  $$ and $X expansions on rc file names is now done.
	Also, corrected S_ISDIR test for file name display.
	* autoopts/test/rc.test(rc.file): directory name is now expanded
	* config/confmacs.tpl(withlib): add special define names

2002-05-11  Bruce Korb  <bkorb@gnu.org>

	* 5.3.7 released.  Older changes retired to ChangeLog.3

2002-05-11  Bruce Korb  <bkorb@gnu.org>

	* config/misc.def(guile): add --with-xxx for guile library
	* configure.in(LN_S): use this macro instead of 'ln -s' directly
	* */Makefile.am(INCLUDES): GUILE_INC is obsolete
	* */Makefile.am(LDADD): GUILE_LINK is obsolete
	* */Makefile.am(LDADD): AG_REGEX_LIB is obsolete
	* autoopts/aginfo3.tpl(sec-name): fix formatting
	* autoopts/autoopts.c(optionProcess): change optionSave to optionSaveFile
	* autoopts/opthead.tpl(SAVE_OPTS): this option is now settable.
	* autoopts/save.c(optionSaveFile): renamed from optionSave.  exported now
	* config/confmacs.tpl(withlib): add code to generate withlib testing.
	* config/misc.def(guile): new withlib test, use for guile and regex.
	(posix_regcomp): obsolete
	(regex_lib): obsolete
	(regex_header_path): obsolete
	* agen5/fsm*.tpl(reent): implement reentrant FSM
	
2002-05-04  Bruce Korb  <bkorb@gnu.org>

	* config/missing(makeinfo): fix syntax
	* doc/auto_gen.tpl(libopts.texi): hunt for file (schizophrenia)
	* doc/Makefile.am: config stuff

2002-05-04  Bruce Korb  <bkorb@gnu.org>

	* autoopts/Makefile.am(libopts.texi): build with correct base name
	* autoopts/aginfo3.tpl: finish
	* autoopts/autoopts.c: finish doc-ing the public interfaces
	* autoopts/bootstrap.dir(libopts.texi): correct build command
	* autoopts/options_h.tpl(export_func): Make it clear which are private
	and which are public.
	* autoopts/stack.c(stackOptArg): a disabled option should just clear
	the option argument stack.  It doesn't have an argument to process
	in the "unstack" routine anyway.
	* doc/Makefile.am(MAINTAINERCLEANFILES): autogen.texi is no longer
	cleanable.  It contains persistent information.
	(DISTCLEANFILES): remove generated junk, add a rule for jumping into
	the autoopts dir to build libopts.texi specifically.
	* doc/auto_gen.tpl(libopts.texi): suck it up since it is so hard
	to @include successfully.
	* doc/autogen.texi: break up the option discussion where we need to
	"suck up" the user visible functions.
	(faq): removed from doc, now just part of web site.
	* getdefs/gdinit.c(validateOptions): allow for "/*=*" definitions.
	* getdefs/getdefs.c(buildDefinition): do not skip newline for global defs
	advance from start of entire matched text instead of subexpression.

2002-05-01  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(zSchemeInit): add macro for determining existence and
	type of a Scheme definition.
	* agen5/expState.c(tpl_file_line): change the example format.

2002-04-19  Bruce Korb  <bkorb@gnu.org>

	* agen5/funcCase.c: consolodate the debugging printing

2002-04-13  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/defref.test(testname.def): verify that the template
	name can be pieced together from definition strings.
	* autoopts/Makefile.am: write a rule that evades the insistance of
	creating the option*.3 man pages at "make all" time.  Instead, we
	do it at "make install" time.  (../agen5/autogen must pre-exist)

2002-04-11  Bruce Korb  <bkorb@gnu.org>

	* agen5/expMake.c(ag_scm_makefile_script): trim all leading whitespace
	and only look for a tab in the last of those characters.
	* autoopts/agman3.tpl: new library template
	* autoopts/aginfo3.tpl: ditto
	* autoopts/Makefile.am: incorporate the new templates and rules for them
	* autoopts/*.c: doc the visible entry points
	* autoopts/options.h: obsolete.  Generated from:
	* autoopts/options_h.tpl: extract external function decs from docs.
	* autoopts/bootstrap.dir: actual rules for generating options.h and
	the man pages and the libopts.texi file

2002-04-03  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.h(FPF_NOCHMOD): for marking /dev/null as NO-chmod(2)
	* agen5/defLex.c(yyerror): add commentary on the likely causes of errors
	* agen5/defParse.y(filename): allow strings to be used for
	the template name.
	* agen5/tpProcess.c(closeOutput): only remove write access if the
	FPF_NOCHMOD bit is not set.  Mark /dev/null as such a file.
	* agen5/test/error.test: add likely cause text to end of sample output.
	* doc/autogen.texi(Index Assignments): new, clearer discussion of how
	to use them and what they are for.
	(Naming a Value): obsolete -- folded into above.

2002-04-03  Bruce Korb  <bkorb@gnu.org>

	* autoopts/optcode.tpl: Allow an empty "rcfile" value to mean that
	"homerc" is a file name, rather than a directory name.
	* autoopts/optmain.tpl: clean up the display of the range for usage
	* autoopts/usage.c(optionUsage): ditto
	(printInitList): new routine for helping to do this
	* agen5/opts.def: Add range check for loop-limit option.

2002-04-01  Bruce Korb  <bkorb@gnu.org>

	* autoopts/usage.c(printInitList): new print the list of RC/INI/config
	files.  Do not append an rcfile name if there is none or if the
	homerc value is a directory.
	* autoopts/optcode.tpl(zRcName): distinguish between an unspecified
	rcfile value and a supplied empty string.
	* autoopts/agman1.tpl(doc): fix sed expression (thx to David Bacher)
	* autoopts/autoopts.c(doLoadOpt): make sure that a file specified
	for loading actually exists.  Non existence is only okay for RC files.

2002-03-29  Alexandre Duret-Lutz

	* agen5/autogen.c (signalSetup): Don't set the SIGCHLD handler twice.
	Don't try to catch SIGKILL, either.

2002-03-28  Bruce Korb  <bkorb@gnu.org>

	* all over:  update copyright dates
	* expExtract.c(find-file): is not general use
	* config/misc.def(regex_header): fix it some more.  This time, we
	define REGEX_HEADER directly in the config.h output file.
	(posix_regex): improve the testing and accommodate pedantic regcomp's.
	* doc/autogen.texi: doc the 'AutoGen as a CGI server' as part of the
	'Configuring and Installing' chapter.
	* */Makefile.am: remove -DREGEX_HEADER as it is now in config.h
	* autoopts/autoopts-config.1: new man page for config script
	* autoopts/Makefile.am(autoopts-config.1): distribute the page

2002-03-22  Bruce Korb  <bkorb@gnu.org>

	* agen5/*: sed 's/DEBUG/DEBUG_ENABLED/g' -- well, almost.
	* agen5/opts.def(timeout): respelled ENABLE_SHELL as SHELL_ENABLED
	* agen5/expMake.c(ag_scm_makefile_script): reworked to handle
	implicit command continuations.

2002-03-22  Bruce Korb  <bkorb@gnu.org>

	* config/confmacs.tpl: make it possible to dump all the macros into
	a single output file.  More convenient.
	* config/conftest.tpl: ditto.
	* config/misc.def(fopen_binary): new
	(fopen_text): new
	* config/openmode.m4: obsolete
	* getdefs/getdefs.h(FOPEN_BINARY_FLAG): use config.h
	* compat/compat.h: ditto
	* columns/opts.def: ditto

2002-03-18  Bruce Korb  <bkorb@gnu.org>

	* configure.in: remove all the generated macro invocations and invoke
	them with a collection macro:  INVOKE_AG_MACROS
	* config/conftest.tpl: generate a macro collection instead of individual
	macros
	* agen5/agShell.c(serverSetup): accommodate zsh and bash
	* compat/strsignal.def: extra protection against non-numeric signal nums
	* config/confmacs.tpl: fix the argument name for the AC_ARG(name) macro

2002-03-18  Bruce Korb  <bkorb@gnu.org>

	* agen5/test/error.test: HP/UX delivers `kill -TERM' as a SIGCONT.
	* agen5/compat/strsignal.def: HP/UX defines many signals as "_SIG..."
	and then defines the normal name to this.
	* configure.in: use reworked regex tests
	* config/misc.def: rework regex testing & with options
	* */Makefile.am: Add CFLAGS = -DREGEX_HEADER='@AG_REGEX_HEADER@'
	* agen5/funcCase.c: replace '<regex.h>' with 'REGEX_HEADER'
	* agen5/funcEval.c: ditto
	* autoopts/stack.c: ditto
	* getdefs/getdefs.h: ditto
	* autoopts/autoopts-config.in: add @AG_REGEX_LIB@ to link info
	* config/bootstrap.local: avoid build directories when cloning
	* config/conftest.tpl: libregex.m4 is now obsolete
	* config/libregex.m4: deleted
	* config/misc: added regex_header, regex_header_path and regex_lib

2002-03-11  Bruce Korb  <bkorb@gnu.org>

	* compat/gnu-regex.c: deleted.  It is broken on some platforms.
	Therefore, we'll just abort the configure if we don't have a POSIX regex
	* agen5/funcCase.c: remove references to deleted source
	* agen5/funcEval.c: ditto
	* autoopts/stack.c: ditto
	* compat/Makefile.am: ditto
	* getdefs/getdefs.h: ditto
	* config/confmacs.tpl(c-text): don't overquote.  Unlike other arguments,
	Autoconf automatically quotes c program text.
	* config/misc.def(posix_regcomp): bail if we cannot find one.

2002-03-03  Bruce Korb  <bkorb@gnu.org>

	* agen5/functions.c(mLoad_Bogus): handle the case when the text pointer
	is NULL.
	* agen5/test/error.test: test for this

2002-03-01  Bruce Korb  <bkorb@gnu.org>

	* agen5/expOutput.c(ag_scm_out_pop): you cannot read one unit of zero
	length.  Accommodate for that.
	* compat/strcspn.c(strcspn): End the scan when the source string ends.
	* ChangeLog: moved old entries to ChangeLog.3
	* snprintfv/snprintfv/Makefile.am: clean up the stamp files

2002-02-23  Bruce Korb  <bkorb@gnu.org>

	* Makefile.am: remove a stamp file for DISTCLEAN
	* agen5/agShell.c(sigHandler): declare strsignal() iff HAVE_STRSIGNAL
	is not defined (i.e., we supply our own implementation)
	* autoopts/makeshell.c(emitUsage): emit the preamble from the previous
	version of the file (if it exists).
	(emitSetup): Allow users to supply over-riding defaults
	(setShell): obsolete
	(loadTrailer): renamed
	(openOutput): new name.  Modified to save a pointer to the leader text.
	* autoopts/test/shell.test: modified to cope with default over-rides
	* snprintfv/configure.in(LIBOBJS): ugly hackaround so that autoconf
	won't know we are using the value.

2002-02-04  Bruce Korb  <bkorb@gnu.org>

	* getdefs/getdefs.c: #include strsignal.c when needed
	* getdefs/getdefs.h: don't do it here

2002-02-02  Bruce Korb  <bkorb@gnu.org>

	* config/conf*.tpl: reworked to correspond to web site.
	* configure.in: AG_ENABLE_SHELL renamed to AG_DISABLE_SHELL
	* agen5/agShell.c: ENABLE_SHELL is now SHELL_ENABLED
	* doc/*: added and reworked docs.
	* doc/gnudoc.tpl: template for www.gnu.org/manuals page.
	* doc/mkgnudoc.sh: script to construct above pages

2002-01-30  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(zSchemeInit): add make-header-guard Scheme function
	(signalExit): use a generated state table
	(ag_abend): dont print template name if we have no active template
	* agen5/autogen.h(teProcState): generate the enumeration
	* agen5/tpLoad.c(mapDataFile): fix arg list

2002-01-28  Bruce Korb  <bkorb@gnu.org>

	* agen5/*.[ch]: error message cleanups.

2002-01-25  Bruce Korb  <bkorb@gnu.org>

	* agen5/autogen.c(signalExit): new routine to do printing outside
	of signal handler context + emit content-type header as needed
	(doneCheck): emit content-type header as needed
	* config/conftest.tpl: renamed from config.tpl

2002-01-22  Bruce Korb  <bkorb@gnu.org>

	* agen5/*fsm*.tpl: reworked to eliminate some inconsistencies

2002-01-21  Bruce Korb  <bkorb@gnu.org>

	* agen5/*.c: handle error messages better
	* agen5/defDirect.c(processDirective): handle ``#!'' as a comment
	directive.  In this fashion, definition files can be made executable,
	to be interpreted by autogen.

2002-01-12  Bruce Korb  <bkorb@gnu.org>

	* agen5/bootstrap.dir: write a function to compute AG, GD and COL
	(set +e): some testing winds up causing a failing false in error
	* agen5/expFormat.c(ag_scm_error): send error messages to pfTrace
	(Public License): change to _General_ Public License
	* agen5/expPrint.c(run_printf): accommodate empty argument lists
	* agen5/expString.c(shellf): add debugging code
	* agen5/functions.c(mLoad_Bogus): allocate the error string so it
	can be handled in the standard way (instead of just fprintf-ing it).
	* agen5/test/error.test(DEFINITIONS ERROR): new format for message
	* agen5/test/html.test(cgi.tpl): for CGI scripts, this template will
	now always be the default, so supply it.  (It avoids requiring
	command line overrides.)
	* config/bootstrap(configure.in): parameterize it 'cuz the standard
	is now named, "configure.ac".
	* config/bootstrap.local(ADD_CONFIG_FILES): dynamically compute the
	list.  It's too hard to remember to grub around inside configure.ac.
	* agen5/autogen.c(autogen-version): add to Guile environment

2002-01-10  Bruce Korb  <bkorb@gnu.org>

	* getdefs/getdefs.c(main): remove warning that is overly common
	* opts/opts.def: Fix up the man page format definitions

2002-01-05  Bruce Korb  <bkorb@gnu.org>

	* agen5/agCgi.c: reopen stderr as stdout so we can direct messages
	to the client, instead of an invisible log file
	* agen5/*.c: refer to GNU General Public License *with* "General".
	* agen5/*.c: change all references from stderr to pfTrace (an alias).
	* agen5/tpParse.c(whichFunc): return UNKNOWN when a name is unknown.
	* agen5/test/html.test: route all queries through "cgi.tpl" and
	depend on a definiton for "template" to source in the correct template.
	* config/bootstrap: parameterize the name of the input configuration
	file.  "configure.ac" is preferred to "configure.in" now.
	* config/bootstrap.local: ditto
	* doc/auto_gen.tpl: cleanup
	* doc/autogen.texi: ditto

2002-01-03  Bruce Korb  <bkorb@gnu.org>

	* agen5/expMake.c: new add makefile-script function
	* agen5/test/make.test: test its functioning
